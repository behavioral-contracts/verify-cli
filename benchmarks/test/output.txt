  tsconfig: /Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/discord.js/fixtures/tsconfig.json
  corpus: ../corpus
  output: benchmarks/test/discord-output.json

Loading behavioral contracts...
âœ“ Loaded 66 package contracts
  (Skipped 11 draft, 23 in-development - use --include-drafts to include)

Discovering packages...
âœ“ Discovered 12 packages

Analyzing TypeScript code...
âœ“ Analyzed 3 files

Audit record written to benchmarks/test/discord-output.json

Behavioral Contract Verification Report
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Summary:
  Files analyzed: 3
  Contracts applied: 363
  Timestamp: 2026-02-27T16:40:44.187Z

Package Discovery & Coverage
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  Total packages: 12
  Packages with contracts: 2 (16.7%)
  Packages without contracts: 10

  âœ“ Packages with contracts:
    discord.js@unknown (contract v1.0.0)
    typescript@^5.3.3 (contract v1.0.0)

  âš  Packages without contracts:
    @types/node@^20.11.0
    @typescript-eslint/eslint-plugin@^6.19.0
    @typescript-eslint/parser@^6.19.0
    ajv@^8.12.0
    chalk@^5.3.0
    commander@^12.0.0
    eslint@^8.56.0
    glob@^10.3.10
    vitest@^1.2.0
    yaml@^2.3.4

Violations by Package
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

discord.js (87 violations)
  Errors: 87 | Warnings: 0 | Info: 0

  âœ— ../corpus/packages/discord.js/fixtures/instance-usage.ts:20:5
    Async function 'deleteMessage' contains unprotected await expression. await msg.delete()... may throw unhandled errors.
    Package: discord.js.Client.login()
    Contract: discord-client-login-no-try-catch

      16 |  */
      17 | class MessageHandler {
      18 |   async deleteMessage(msg: Message) {
      19 |     // âŒ Should trigger violation - no try-catch
    > 20 |     await msg.delete();
      21 |   }
      22 | 
      23 |   async editMessage(msg: Message, content: string) {
      24 |     // âŒ Should trigger violation
    Fix: MUST wrap await client.login() in try-catch block
    Docs: https://discord.js.org/docs/packages/discord.js/main/Client:Class#login

  âœ— ../corpus/packages/discord.js/fixtures/instance-usage.ts:25:5
    Async function 'editMessage' contains unprotected await expression. await msg.edit(content)... may throw unhandled errors.
    Package: discord.js.Client.login()
    Contract: discord-client-login-no-try-catch

      21 |   }
      22 | 
      23 |   async editMessage(msg: Message, content: string) {
      24 |     // âŒ Should trigger violation
    > 25 |     await msg.edit(content);
      26 |   }
      27 | 
      28 |   async replyToMessage(msg: Message, reply: string) {
      29 |     // âŒ Should trigger violation
    Fix: MUST wrap await client.login() in try-catch block
    Docs: https://discord.js.org/docs/packages/discord.js/main/Client:Class#login

  âœ— ../corpus/packages/discord.js/fixtures/instance-usage.ts:30:5
    Async function 'replyToMessage' contains unprotected await expression. await msg.reply(reply)... may throw unhandled errors.
    Package: discord.js.Client.login()
    Contract: discord-client-login-no-try-catch

      26 |   }
      27 | 
      28 |   async replyToMessage(msg: Message, reply: string) {
      29 |     // âŒ Should trigger violation
    > 30 |     await msg.reply(reply);
      31 |   }
      32 | 
      33 |   async addReaction(msg: Message, emoji: string) {
      34 |     // âŒ Should trigger violation
    Fix: MUST wrap await client.login() in try-catch block
    Docs: https://discord.js.org/docs/packages/discord.js/main/Client:Class#login

  âœ— ../corpus/packages/discord.js/fixtures/instance-usage.ts:35:5
    Async function 'addReaction' contains unprotected await expression. await msg.react(emoji)... may throw unhandled errors.
    Package: discord.js.Client.login()
    Contract: discord-client-login-no-try-catch

      31 |   }
      32 | 
      33 |   async addReaction(msg: Message, emoji: string) {
      34 |     // âŒ Should trigger violation
    > 35 |     await msg.react(emoji);
      36 |   }
      37 | 
      38 |   async pinMessage(msg: Message) {
      39 |     // âŒ Should trigger violation
    Fix: MUST wrap await client.login() in try-catch block
    Docs: https://discord.js.org/docs/packages/discord.js/main/Client:Class#login

  âœ— ../corpus/packages/discord.js/fixtures/instance-usage.ts:40:5
    Async function 'pinMessage' contains unprotected await expression. await msg.pin()... may throw unhandled errors.
    Package: discord.js.Client.login()
    Contract: discord-client-login-no-try-catch

      36 |   }
      37 | 
      38 |   async pinMessage(msg: Message) {
      39 |     // âŒ Should trigger violation
    > 40 |     await msg.pin();
      41 |   }
      42 | }
      43 | 
      44 | // ============================================================================
    Fix: MUST wrap await client.login() in try-catch block
    Docs: https://discord.js.org/docs/packages/discord.js/main/Client:Class#login

    ... and 82 more violations in this package

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Overall Summary:
  Total violations: 87
  Errors: 87
  Warnings: 0
  Info: 0

âœ— FAILED



â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  Behavioral Contracts Analysis Report                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Repository: fixtures
Analyzed: 2/27/2026, 11:40:44 AM

âœ… CODE HEALTH SCORE: 58/100

ğŸ“Š COVERAGE SUMMARY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â€¢ Files Analyzed: 3
  â€¢ Package Usages Detected: 363
  â€¢ Contracts Applied: 363
  â€¢ Violations Found: 87 !
  â€¢ Checks Passed: 276 âœ“

ğŸ“ˆ REPOSITORY HEALTH METRICS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â€¢ Error Handling Compliance: 76%
  â€¢ Package Coverage: 17%
  â€¢ Code Maturity: LOW
  â€¢ Risk Level: CRITICAL


ğŸ” PACKAGE USAGE BREAKDOWN
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  discord.js                      âœ—   435 checks   87 issues  80% pass
      â†³ 87 errors
  typescript                      âœ“   181 checks    0 issues  100% pass

  Total packages analyzed: 66
  Packages with contracts: 2
  Fully compliant: 1 âœ“
  With violations: 1 âœ—

ğŸ† BENCHMARKING
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Sample Size: 282 repositories analyzed

  Your Violations: 87
  Average Violations: 29


  Your Ranking: Top 90%
  Your repo is much worse than 10% of repos scanned.

  Percentile Distribution:
    25th percentile: 0 violations
    50th percentile: 0 violations (median)
    75th percentile: 2 violations
    90th percentile: 38 violations

ğŸ’¡ INSIGHTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  âœ“ 1 packages have zero violations (typescript).
  ! 10 packages don't have contracts yet - coverage opportunity for future scans.
  âœ“ Analyzed 363 function calls across 3 files - comprehensive coverage.

ğŸ¯ RECOMMENDATIONS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  1. Prioritize fixing ERROR-level violations first (production risk)
  2. Consider fixing violations package-by-package for manageable progress
  3. Review error handling patterns with team to establish standards
  4. Request contracts for your most-used packages (10 uncovered)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Report generated by Behavioral Contracts v0.1.0
  Next scan: Enable CI integration for continuous monitoring
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Reports written to:
