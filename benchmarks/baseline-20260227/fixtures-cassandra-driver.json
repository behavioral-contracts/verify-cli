{
  "tool": "@behavioral-contracts/verify-cli",
  "tool_version": "0.1.0",
  "corpus_version": "1.0.0",
  "timestamp": "2026-02-27T16:57:06.861Z",
  "tsconfig": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/tsconfig.json",
  "packages_analyzed": [
    "zod",
    "yup",
    "ws",
    "winston",
    "validator",
    "uuid",
    "unzipper",
    "undici",
    "typeorm",
    "typescript",
    "twilio",
    "tedious",
    "superagent",
    "supertest",
    "square",
    "sqlite3",
    "socket.io-client",
    "stripe",
    "socket.io",
    "sinon",
    "simple-oauth2",
    "sharp",
    "sequelize",
    "request-promise",
    "redis",
    "react-hook-form",
    "pino",
    "pg",
    "puppeteer",
    "openai",
    "node-fetch",
    "nodemailer",
    "passport",
    "mysql2",
    "next",
    "multer",
    "moment",
    "mongoose",
    "mongodb",
    "luxon",
    "knex",
    "lodash",
    "mocha",
    "jsonwebtoken",
    "joi",
    "helmet",
    "graphql",
    "ioredis",
    "got",
    "firebase-admin",
    "fastify",
    "express",
    "ethers",
    "drizzle-orm",
    "discord.js",
    "dayjs",
    "date-fns",
    "cors",
    "cassandra-driver",
    "cloudinary",
    "chai",
    "bullmq",
    "bcryptjs",
    "bull",
    "axios",
    "ajv",
    "archiver",
    "@vercel/postgres",
    "@tanstack/react-query",
    "@supabase/supabase-js",
    "@sendgrid/mail",
    "@octokit/rest",
    "@prisma/client",
    "@slack/web-api",
    "@hapi/hapi",
    "@nestjs/common",
    "@anthropic-ai/sdk",
    "@clerk/nextjs",
    "@aws-sdk/client-s3"
  ],
  "contracts_applied": 400,
  "files_analyzed": 4,
  "violations": [
    {
      "id": "cassandra-driver-stream-error",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/edge-cases.ts",
      "line": 154,
      "column": 18,
      "package": "cassandra-driver",
      "function": "stream",
      "contract_clause": "stream-error",
      "description": "No try-catch block found. ResponseError emitted via 'error' event - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/queries/",
      "suggested_fix": "Caller MUST listen for 'error' event on stream. Without error listener, unhandled error will crash process. Errors can occur during query execution or while reading rows. Handle NoHostAvailableError, OperationTimedOutError, ResponseError.\n",
      "code_snippet": {
        "startLine": 150,
        "endLine": 158,
        "lines": [
          {
            "line": 150,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 151,
            "content": " * ❌ Stream without error listener (edge case - should fail)",
            "highlighted": false
          },
          {
            "line": 152,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 153,
            "content": "function streamMissingErrorHandler() {",
            "highlighted": false
          },
          {
            "line": 154,
            "content": "  const stream = client.stream('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 155,
            "content": "",
            "highlighted": false
          },
          {
            "line": 156,
            "content": "  stream.on('readable', function() {",
            "highlighted": false
          },
          {
            "line": 157,
            "content": "    let row;",
            "highlighted": false
          },
          {
            "line": 158,
            "content": "    while (row = this.read()) {",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-stream-error",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/edge-cases.ts",
      "line": 171,
      "column": 18,
      "package": "cassandra-driver",
      "function": "stream",
      "contract_clause": "stream-error",
      "description": "No try-catch block found. ResponseError emitted via 'error' event - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/queries/",
      "suggested_fix": "Caller MUST listen for 'error' event on stream. Without error listener, unhandled error will crash process. Errors can occur during query execution or while reading rows. Handle NoHostAvailableError, OperationTimedOutError, ResponseError.\n",
      "code_snippet": {
        "startLine": 167,
        "endLine": 175,
        "lines": [
          {
            "line": 167,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 168,
            "content": " * ✅ Proper stream error handling with timeout",
            "highlighted": false
          },
          {
            "line": 169,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 170,
            "content": "function streamWithTimeout() {",
            "highlighted": false
          },
          {
            "line": 171,
            "content": "  const stream = client.stream('SELECT * FROM users', [], { readTimeout: 5000 });",
            "highlighted": true
          },
          {
            "line": 172,
            "content": "",
            "highlighted": false
          },
          {
            "line": 173,
            "content": "  stream.on('readable', function() {",
            "highlighted": false
          },
          {
            "line": 174,
            "content": "    let row;",
            "highlighted": false
          },
          {
            "line": 175,
            "content": "    while (row = this.read()) {",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-row-callback-error",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/edge-cases.ts",
      "line": 199,
      "column": 3,
      "package": "cassandra-driver",
      "function": "eachRow",
      "contract_clause": "row-callback-error",
      "description": "No try-catch block found. Error passed to endCallback parameter - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/queries/",
      "suggested_fix": "Caller MUST check error parameter in endCallback. Errors include: - NoHostAvailableError: Connection failure - OperationTimedOutError: Query timeout - ResponseError: Server-side query error If row callback throws, eachRow stops and calls endCallback with error.\n",
      "code_snippet": {
        "startLine": 195,
        "endLine": 203,
        "lines": [
          {
            "line": 195,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 196,
            "content": " * ❌ eachRow without error handling (edge case - should fail)",
            "highlighted": false
          },
          {
            "line": 197,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 198,
            "content": "function eachRowMissingErrorCheck() {",
            "highlighted": false
          },
          {
            "line": 199,
            "content": "  client.eachRow(",
            "highlighted": true
          },
          {
            "line": 200,
            "content": "    'SELECT * FROM users',",
            "highlighted": false
          },
          {
            "line": 201,
            "content": "    [],",
            "highlighted": false
          },
          {
            "line": 202,
            "content": "    function rowCallback(n, row) {",
            "highlighted": false
          },
          {
            "line": 203,
            "content": "      console.log('Row', n, ':', row);",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-connection-failure",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 20,
      "column": 9,
      "package": "cassandra-driver",
      "function": "connect",
      "contract_clause": "connection-failure",
      "description": "No try-catch block found. NoHostAvailableError with details of failed contact points - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/getting-started/",
      "suggested_fix": "Caller MUST handle NoHostAvailableError. Common causes: - All nodes unreachable - Wrong contact points - Authentication failure Check error.innerErrors for details on each contact point. Implement retry with exponential backoff.\n",
      "code_snippet": {
        "startLine": 16,
        "endLine": 24,
        "lines": [
          {
            "line": 16,
            "content": "    localDataCenter: 'datacenter1'",
            "highlighted": false
          },
          {
            "line": 17,
            "content": "  });",
            "highlighted": false
          },
          {
            "line": 18,
            "content": "",
            "highlighted": false
          },
          {
            "line": 19,
            "content": "  // ❌ Multiple operations without try-catch",
            "highlighted": false
          },
          {
            "line": 20,
            "content": "  await client.connect();",
            "highlighted": true
          },
          {
            "line": 21,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 22,
            "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
            "highlighted": false
          },
          {
            "line": 23,
            "content": "  await client.shutdown();",
            "highlighted": false
          },
          {
            "line": 24,
            "content": "}",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-authentication-failure",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 20,
      "column": 9,
      "package": "cassandra-driver",
      "function": "connect",
      "contract_clause": "authentication-failure",
      "description": "No try-catch block found. AuthenticationError - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/auth/",
      "suggested_fix": "Caller MUST handle authentication errors. DO NOT retry with same credentials. Verify username/password in connection config.\n",
      "code_snippet": {
        "startLine": 16,
        "endLine": 24,
        "lines": [
          {
            "line": 16,
            "content": "    localDataCenter: 'datacenter1'",
            "highlighted": false
          },
          {
            "line": 17,
            "content": "  });",
            "highlighted": false
          },
          {
            "line": 18,
            "content": "",
            "highlighted": false
          },
          {
            "line": 19,
            "content": "  // ❌ Multiple operations without try-catch",
            "highlighted": false
          },
          {
            "line": 20,
            "content": "  await client.connect();",
            "highlighted": true
          },
          {
            "line": 21,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 22,
            "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
            "highlighted": false
          },
          {
            "line": 23,
            "content": "  await client.shutdown();",
            "highlighted": false
          },
          {
            "line": 24,
            "content": "}",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-syntax-error",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 21,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "syntax-error",
      "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
      "code_snippet": {
        "startLine": 17,
        "endLine": 25,
        "lines": [
          {
            "line": 17,
            "content": "  });",
            "highlighted": false
          },
          {
            "line": 18,
            "content": "",
            "highlighted": false
          },
          {
            "line": 19,
            "content": "  // ❌ Multiple operations without try-catch",
            "highlighted": false
          },
          {
            "line": 20,
            "content": "  await client.connect();",
            "highlighted": false
          },
          {
            "line": 21,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 22,
            "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
            "highlighted": false
          },
          {
            "line": 23,
            "content": "  await client.shutdown();",
            "highlighted": false
          },
          {
            "line": 24,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 25,
            "content": "",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-unavailable",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 21,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "unavailable",
      "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
      "code_snippet": {
        "startLine": 17,
        "endLine": 25,
        "lines": [
          {
            "line": 17,
            "content": "  });",
            "highlighted": false
          },
          {
            "line": 18,
            "content": "",
            "highlighted": false
          },
          {
            "line": 19,
            "content": "  // ❌ Multiple operations without try-catch",
            "highlighted": false
          },
          {
            "line": 20,
            "content": "  await client.connect();",
            "highlighted": false
          },
          {
            "line": 21,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 22,
            "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
            "highlighted": false
          },
          {
            "line": 23,
            "content": "  await client.shutdown();",
            "highlighted": false
          },
          {
            "line": 24,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 25,
            "content": "",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 21,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "timeout",
      "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
      "code_snippet": {
        "startLine": 17,
        "endLine": 25,
        "lines": [
          {
            "line": 17,
            "content": "  });",
            "highlighted": false
          },
          {
            "line": 18,
            "content": "",
            "highlighted": false
          },
          {
            "line": 19,
            "content": "  // ❌ Multiple operations without try-catch",
            "highlighted": false
          },
          {
            "line": 20,
            "content": "  await client.connect();",
            "highlighted": false
          },
          {
            "line": 21,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 22,
            "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
            "highlighted": false
          },
          {
            "line": 23,
            "content": "  await client.shutdown();",
            "highlighted": false
          },
          {
            "line": 24,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 25,
            "content": "",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-write-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 21,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "write-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
      "code_snippet": {
        "startLine": 17,
        "endLine": 25,
        "lines": [
          {
            "line": 17,
            "content": "  });",
            "highlighted": false
          },
          {
            "line": 18,
            "content": "",
            "highlighted": false
          },
          {
            "line": 19,
            "content": "  // ❌ Multiple operations without try-catch",
            "highlighted": false
          },
          {
            "line": 20,
            "content": "  await client.connect();",
            "highlighted": false
          },
          {
            "line": 21,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 22,
            "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
            "highlighted": false
          },
          {
            "line": 23,
            "content": "  await client.shutdown();",
            "highlighted": false
          },
          {
            "line": 24,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 25,
            "content": "",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-read-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 21,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "read-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
      "code_snippet": {
        "startLine": 17,
        "endLine": 25,
        "lines": [
          {
            "line": 17,
            "content": "  });",
            "highlighted": false
          },
          {
            "line": 18,
            "content": "",
            "highlighted": false
          },
          {
            "line": 19,
            "content": "  // ❌ Multiple operations without try-catch",
            "highlighted": false
          },
          {
            "line": 20,
            "content": "  await client.connect();",
            "highlighted": false
          },
          {
            "line": 21,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 22,
            "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
            "highlighted": false
          },
          {
            "line": 23,
            "content": "  await client.shutdown();",
            "highlighted": false
          },
          {
            "line": 24,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 25,
            "content": "",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-overloaded",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 21,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "overloaded",
      "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
      "code_snippet": {
        "startLine": 17,
        "endLine": 25,
        "lines": [
          {
            "line": 17,
            "content": "  });",
            "highlighted": false
          },
          {
            "line": 18,
            "content": "",
            "highlighted": false
          },
          {
            "line": 19,
            "content": "  // ❌ Multiple operations without try-catch",
            "highlighted": false
          },
          {
            "line": 20,
            "content": "  await client.connect();",
            "highlighted": false
          },
          {
            "line": 21,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 22,
            "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
            "highlighted": false
          },
          {
            "line": 23,
            "content": "  await client.shutdown();",
            "highlighted": false
          },
          {
            "line": 24,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 25,
            "content": "",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-invalid-query",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 21,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "invalid-query",
      "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
      "code_snippet": {
        "startLine": 17,
        "endLine": 25,
        "lines": [
          {
            "line": 17,
            "content": "  });",
            "highlighted": false
          },
          {
            "line": 18,
            "content": "",
            "highlighted": false
          },
          {
            "line": 19,
            "content": "  // ❌ Multiple operations without try-catch",
            "highlighted": false
          },
          {
            "line": 20,
            "content": "  await client.connect();",
            "highlighted": false
          },
          {
            "line": 21,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 22,
            "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
            "highlighted": false
          },
          {
            "line": 23,
            "content": "  await client.shutdown();",
            "highlighted": false
          },
          {
            "line": 24,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 25,
            "content": "",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-syntax-error",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 22,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "syntax-error",
      "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
      "code_snippet": {
        "startLine": 18,
        "endLine": 26,
        "lines": [
          {
            "line": 18,
            "content": "",
            "highlighted": false
          },
          {
            "line": 19,
            "content": "  // ❌ Multiple operations without try-catch",
            "highlighted": false
          },
          {
            "line": 20,
            "content": "  await client.connect();",
            "highlighted": false
          },
          {
            "line": 21,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 22,
            "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
            "highlighted": true
          },
          {
            "line": 23,
            "content": "  await client.shutdown();",
            "highlighted": false
          },
          {
            "line": 24,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 25,
            "content": "",
            "highlighted": false
          },
          {
            "line": 26,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-unavailable",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 22,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "unavailable",
      "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
      "code_snippet": {
        "startLine": 18,
        "endLine": 26,
        "lines": [
          {
            "line": 18,
            "content": "",
            "highlighted": false
          },
          {
            "line": 19,
            "content": "  // ❌ Multiple operations without try-catch",
            "highlighted": false
          },
          {
            "line": 20,
            "content": "  await client.connect();",
            "highlighted": false
          },
          {
            "line": 21,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 22,
            "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
            "highlighted": true
          },
          {
            "line": 23,
            "content": "  await client.shutdown();",
            "highlighted": false
          },
          {
            "line": 24,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 25,
            "content": "",
            "highlighted": false
          },
          {
            "line": 26,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 22,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "timeout",
      "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
      "code_snippet": {
        "startLine": 18,
        "endLine": 26,
        "lines": [
          {
            "line": 18,
            "content": "",
            "highlighted": false
          },
          {
            "line": 19,
            "content": "  // ❌ Multiple operations without try-catch",
            "highlighted": false
          },
          {
            "line": 20,
            "content": "  await client.connect();",
            "highlighted": false
          },
          {
            "line": 21,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 22,
            "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
            "highlighted": true
          },
          {
            "line": 23,
            "content": "  await client.shutdown();",
            "highlighted": false
          },
          {
            "line": 24,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 25,
            "content": "",
            "highlighted": false
          },
          {
            "line": 26,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-write-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 22,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "write-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
      "code_snippet": {
        "startLine": 18,
        "endLine": 26,
        "lines": [
          {
            "line": 18,
            "content": "",
            "highlighted": false
          },
          {
            "line": 19,
            "content": "  // ❌ Multiple operations without try-catch",
            "highlighted": false
          },
          {
            "line": 20,
            "content": "  await client.connect();",
            "highlighted": false
          },
          {
            "line": 21,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 22,
            "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
            "highlighted": true
          },
          {
            "line": 23,
            "content": "  await client.shutdown();",
            "highlighted": false
          },
          {
            "line": 24,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 25,
            "content": "",
            "highlighted": false
          },
          {
            "line": 26,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-read-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 22,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "read-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
      "code_snippet": {
        "startLine": 18,
        "endLine": 26,
        "lines": [
          {
            "line": 18,
            "content": "",
            "highlighted": false
          },
          {
            "line": 19,
            "content": "  // ❌ Multiple operations without try-catch",
            "highlighted": false
          },
          {
            "line": 20,
            "content": "  await client.connect();",
            "highlighted": false
          },
          {
            "line": 21,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 22,
            "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
            "highlighted": true
          },
          {
            "line": 23,
            "content": "  await client.shutdown();",
            "highlighted": false
          },
          {
            "line": 24,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 25,
            "content": "",
            "highlighted": false
          },
          {
            "line": 26,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-overloaded",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 22,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "overloaded",
      "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
      "code_snippet": {
        "startLine": 18,
        "endLine": 26,
        "lines": [
          {
            "line": 18,
            "content": "",
            "highlighted": false
          },
          {
            "line": 19,
            "content": "  // ❌ Multiple operations without try-catch",
            "highlighted": false
          },
          {
            "line": 20,
            "content": "  await client.connect();",
            "highlighted": false
          },
          {
            "line": 21,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 22,
            "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
            "highlighted": true
          },
          {
            "line": 23,
            "content": "  await client.shutdown();",
            "highlighted": false
          },
          {
            "line": 24,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 25,
            "content": "",
            "highlighted": false
          },
          {
            "line": 26,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-invalid-query",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 22,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "invalid-query",
      "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
      "code_snippet": {
        "startLine": 18,
        "endLine": 26,
        "lines": [
          {
            "line": 18,
            "content": "",
            "highlighted": false
          },
          {
            "line": 19,
            "content": "  // ❌ Multiple operations without try-catch",
            "highlighted": false
          },
          {
            "line": 20,
            "content": "  await client.connect();",
            "highlighted": false
          },
          {
            "line": 21,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 22,
            "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
            "highlighted": true
          },
          {
            "line": 23,
            "content": "  await client.shutdown();",
            "highlighted": false
          },
          {
            "line": 24,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 25,
            "content": "",
            "highlighted": false
          },
          {
            "line": 26,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-connection-failure",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 35,
      "column": 9,
      "package": "cassandra-driver",
      "function": "connect",
      "contract_clause": "connection-failure",
      "description": "No try-catch block found. NoHostAvailableError with details of failed contact points - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/getting-started/",
      "suggested_fix": "Caller MUST handle NoHostAvailableError. Common causes: - All nodes unreachable - Wrong contact points - Authentication failure Check error.innerErrors for details on each contact point. Implement retry with exponential backoff.\n",
      "code_snippet": {
        "startLine": 31,
        "endLine": 39,
        "lines": [
          {
            "line": 31,
            "content": "  const client1 = new Client({ contactPoints: ['host1'], localDataCenter: 'dc1' });",
            "highlighted": false
          },
          {
            "line": 32,
            "content": "  const client2 = new Client({ contactPoints: ['host2'], localDataCenter: 'dc2' });",
            "highlighted": false
          },
          {
            "line": 33,
            "content": "",
            "highlighted": false
          },
          {
            "line": 34,
            "content": "  // ❌ No try-catch for either client",
            "highlighted": false
          },
          {
            "line": 35,
            "content": "  await client1.connect();",
            "highlighted": true
          },
          {
            "line": 36,
            "content": "  await client2.connect();",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  await client1.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 39,
            "content": "  await client2.execute('SELECT * FROM products');",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-authentication-failure",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 35,
      "column": 9,
      "package": "cassandra-driver",
      "function": "connect",
      "contract_clause": "authentication-failure",
      "description": "No try-catch block found. AuthenticationError - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/auth/",
      "suggested_fix": "Caller MUST handle authentication errors. DO NOT retry with same credentials. Verify username/password in connection config.\n",
      "code_snippet": {
        "startLine": 31,
        "endLine": 39,
        "lines": [
          {
            "line": 31,
            "content": "  const client1 = new Client({ contactPoints: ['host1'], localDataCenter: 'dc1' });",
            "highlighted": false
          },
          {
            "line": 32,
            "content": "  const client2 = new Client({ contactPoints: ['host2'], localDataCenter: 'dc2' });",
            "highlighted": false
          },
          {
            "line": 33,
            "content": "",
            "highlighted": false
          },
          {
            "line": 34,
            "content": "  // ❌ No try-catch for either client",
            "highlighted": false
          },
          {
            "line": 35,
            "content": "  await client1.connect();",
            "highlighted": true
          },
          {
            "line": 36,
            "content": "  await client2.connect();",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  await client1.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 39,
            "content": "  await client2.execute('SELECT * FROM products');",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-connection-failure",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 36,
      "column": 9,
      "package": "cassandra-driver",
      "function": "connect",
      "contract_clause": "connection-failure",
      "description": "No try-catch block found. NoHostAvailableError with details of failed contact points - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/getting-started/",
      "suggested_fix": "Caller MUST handle NoHostAvailableError. Common causes: - All nodes unreachable - Wrong contact points - Authentication failure Check error.innerErrors for details on each contact point. Implement retry with exponential backoff.\n",
      "code_snippet": {
        "startLine": 32,
        "endLine": 40,
        "lines": [
          {
            "line": 32,
            "content": "  const client2 = new Client({ contactPoints: ['host2'], localDataCenter: 'dc2' });",
            "highlighted": false
          },
          {
            "line": 33,
            "content": "",
            "highlighted": false
          },
          {
            "line": 34,
            "content": "  // ❌ No try-catch for either client",
            "highlighted": false
          },
          {
            "line": 35,
            "content": "  await client1.connect();",
            "highlighted": false
          },
          {
            "line": 36,
            "content": "  await client2.connect();",
            "highlighted": true
          },
          {
            "line": 37,
            "content": "",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  await client1.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 39,
            "content": "  await client2.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 40,
            "content": "",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-authentication-failure",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 36,
      "column": 9,
      "package": "cassandra-driver",
      "function": "connect",
      "contract_clause": "authentication-failure",
      "description": "No try-catch block found. AuthenticationError - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/auth/",
      "suggested_fix": "Caller MUST handle authentication errors. DO NOT retry with same credentials. Verify username/password in connection config.\n",
      "code_snippet": {
        "startLine": 32,
        "endLine": 40,
        "lines": [
          {
            "line": 32,
            "content": "  const client2 = new Client({ contactPoints: ['host2'], localDataCenter: 'dc2' });",
            "highlighted": false
          },
          {
            "line": 33,
            "content": "",
            "highlighted": false
          },
          {
            "line": 34,
            "content": "  // ❌ No try-catch for either client",
            "highlighted": false
          },
          {
            "line": 35,
            "content": "  await client1.connect();",
            "highlighted": false
          },
          {
            "line": 36,
            "content": "  await client2.connect();",
            "highlighted": true
          },
          {
            "line": 37,
            "content": "",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  await client1.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 39,
            "content": "  await client2.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 40,
            "content": "",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-syntax-error",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 38,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "syntax-error",
      "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
      "code_snippet": {
        "startLine": 34,
        "endLine": 42,
        "lines": [
          {
            "line": 34,
            "content": "  // ❌ No try-catch for either client",
            "highlighted": false
          },
          {
            "line": 35,
            "content": "  await client1.connect();",
            "highlighted": false
          },
          {
            "line": 36,
            "content": "  await client2.connect();",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  await client1.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 39,
            "content": "  await client2.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 40,
            "content": "",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "  await client1.shutdown();",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "  await client2.shutdown();",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-unavailable",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 38,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "unavailable",
      "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
      "code_snippet": {
        "startLine": 34,
        "endLine": 42,
        "lines": [
          {
            "line": 34,
            "content": "  // ❌ No try-catch for either client",
            "highlighted": false
          },
          {
            "line": 35,
            "content": "  await client1.connect();",
            "highlighted": false
          },
          {
            "line": 36,
            "content": "  await client2.connect();",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  await client1.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 39,
            "content": "  await client2.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 40,
            "content": "",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "  await client1.shutdown();",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "  await client2.shutdown();",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 38,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "timeout",
      "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
      "code_snippet": {
        "startLine": 34,
        "endLine": 42,
        "lines": [
          {
            "line": 34,
            "content": "  // ❌ No try-catch for either client",
            "highlighted": false
          },
          {
            "line": 35,
            "content": "  await client1.connect();",
            "highlighted": false
          },
          {
            "line": 36,
            "content": "  await client2.connect();",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  await client1.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 39,
            "content": "  await client2.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 40,
            "content": "",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "  await client1.shutdown();",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "  await client2.shutdown();",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-write-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 38,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "write-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
      "code_snippet": {
        "startLine": 34,
        "endLine": 42,
        "lines": [
          {
            "line": 34,
            "content": "  // ❌ No try-catch for either client",
            "highlighted": false
          },
          {
            "line": 35,
            "content": "  await client1.connect();",
            "highlighted": false
          },
          {
            "line": 36,
            "content": "  await client2.connect();",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  await client1.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 39,
            "content": "  await client2.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 40,
            "content": "",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "  await client1.shutdown();",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "  await client2.shutdown();",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-read-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 38,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "read-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
      "code_snippet": {
        "startLine": 34,
        "endLine": 42,
        "lines": [
          {
            "line": 34,
            "content": "  // ❌ No try-catch for either client",
            "highlighted": false
          },
          {
            "line": 35,
            "content": "  await client1.connect();",
            "highlighted": false
          },
          {
            "line": 36,
            "content": "  await client2.connect();",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  await client1.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 39,
            "content": "  await client2.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 40,
            "content": "",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "  await client1.shutdown();",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "  await client2.shutdown();",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-overloaded",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 38,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "overloaded",
      "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
      "code_snippet": {
        "startLine": 34,
        "endLine": 42,
        "lines": [
          {
            "line": 34,
            "content": "  // ❌ No try-catch for either client",
            "highlighted": false
          },
          {
            "line": 35,
            "content": "  await client1.connect();",
            "highlighted": false
          },
          {
            "line": 36,
            "content": "  await client2.connect();",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  await client1.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 39,
            "content": "  await client2.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 40,
            "content": "",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "  await client1.shutdown();",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "  await client2.shutdown();",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-invalid-query",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 38,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "invalid-query",
      "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
      "code_snippet": {
        "startLine": 34,
        "endLine": 42,
        "lines": [
          {
            "line": 34,
            "content": "  // ❌ No try-catch for either client",
            "highlighted": false
          },
          {
            "line": 35,
            "content": "  await client1.connect();",
            "highlighted": false
          },
          {
            "line": 36,
            "content": "  await client2.connect();",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  await client1.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 39,
            "content": "  await client2.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 40,
            "content": "",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "  await client1.shutdown();",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "  await client2.shutdown();",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-syntax-error",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 39,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "syntax-error",
      "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
      "code_snippet": {
        "startLine": 35,
        "endLine": 43,
        "lines": [
          {
            "line": 35,
            "content": "  await client1.connect();",
            "highlighted": false
          },
          {
            "line": 36,
            "content": "  await client2.connect();",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  await client1.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 39,
            "content": "  await client2.execute('SELECT * FROM products');",
            "highlighted": true
          },
          {
            "line": 40,
            "content": "",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "  await client1.shutdown();",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "  await client2.shutdown();",
            "highlighted": false
          },
          {
            "line": 43,
            "content": "}",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-unavailable",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 39,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "unavailable",
      "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
      "code_snippet": {
        "startLine": 35,
        "endLine": 43,
        "lines": [
          {
            "line": 35,
            "content": "  await client1.connect();",
            "highlighted": false
          },
          {
            "line": 36,
            "content": "  await client2.connect();",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  await client1.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 39,
            "content": "  await client2.execute('SELECT * FROM products');",
            "highlighted": true
          },
          {
            "line": 40,
            "content": "",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "  await client1.shutdown();",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "  await client2.shutdown();",
            "highlighted": false
          },
          {
            "line": 43,
            "content": "}",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 39,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "timeout",
      "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
      "code_snippet": {
        "startLine": 35,
        "endLine": 43,
        "lines": [
          {
            "line": 35,
            "content": "  await client1.connect();",
            "highlighted": false
          },
          {
            "line": 36,
            "content": "  await client2.connect();",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  await client1.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 39,
            "content": "  await client2.execute('SELECT * FROM products');",
            "highlighted": true
          },
          {
            "line": 40,
            "content": "",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "  await client1.shutdown();",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "  await client2.shutdown();",
            "highlighted": false
          },
          {
            "line": 43,
            "content": "}",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-write-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 39,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "write-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
      "code_snippet": {
        "startLine": 35,
        "endLine": 43,
        "lines": [
          {
            "line": 35,
            "content": "  await client1.connect();",
            "highlighted": false
          },
          {
            "line": 36,
            "content": "  await client2.connect();",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  await client1.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 39,
            "content": "  await client2.execute('SELECT * FROM products');",
            "highlighted": true
          },
          {
            "line": 40,
            "content": "",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "  await client1.shutdown();",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "  await client2.shutdown();",
            "highlighted": false
          },
          {
            "line": 43,
            "content": "}",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-read-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 39,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "read-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
      "code_snippet": {
        "startLine": 35,
        "endLine": 43,
        "lines": [
          {
            "line": 35,
            "content": "  await client1.connect();",
            "highlighted": false
          },
          {
            "line": 36,
            "content": "  await client2.connect();",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  await client1.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 39,
            "content": "  await client2.execute('SELECT * FROM products');",
            "highlighted": true
          },
          {
            "line": 40,
            "content": "",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "  await client1.shutdown();",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "  await client2.shutdown();",
            "highlighted": false
          },
          {
            "line": 43,
            "content": "}",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-overloaded",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 39,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "overloaded",
      "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
      "code_snippet": {
        "startLine": 35,
        "endLine": 43,
        "lines": [
          {
            "line": 35,
            "content": "  await client1.connect();",
            "highlighted": false
          },
          {
            "line": 36,
            "content": "  await client2.connect();",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  await client1.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 39,
            "content": "  await client2.execute('SELECT * FROM products');",
            "highlighted": true
          },
          {
            "line": 40,
            "content": "",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "  await client1.shutdown();",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "  await client2.shutdown();",
            "highlighted": false
          },
          {
            "line": 43,
            "content": "}",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-invalid-query",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 39,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "invalid-query",
      "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
      "code_snippet": {
        "startLine": 35,
        "endLine": 43,
        "lines": [
          {
            "line": 35,
            "content": "  await client1.connect();",
            "highlighted": false
          },
          {
            "line": 36,
            "content": "  await client2.connect();",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  await client1.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 39,
            "content": "  await client2.execute('SELECT * FROM products');",
            "highlighted": true
          },
          {
            "line": 40,
            "content": "",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "  await client1.shutdown();",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "  await client2.shutdown();",
            "highlighted": false
          },
          {
            "line": 43,
            "content": "}",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-connection-failure",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 55,
      "column": 9,
      "package": "cassandra-driver",
      "function": "connect",
      "contract_clause": "connection-failure",
      "description": "No try-catch block found. NoHostAvailableError with details of failed contact points - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/getting-started/",
      "suggested_fix": "Caller MUST handle NoHostAvailableError. Common causes: - All nodes unreachable - Wrong contact points - Authentication failure Check error.innerErrors for details on each contact point. Implement retry with exponential backoff.\n",
      "code_snippet": {
        "startLine": 51,
        "endLine": 59,
        "lines": [
          {
            "line": 51,
            "content": "    contactPoints: ['localhost'],",
            "highlighted": false
          },
          {
            "line": 52,
            "content": "    localDataCenter: 'datacenter1'",
            "highlighted": false
          },
          {
            "line": 53,
            "content": "  });",
            "highlighted": false
          },
          {
            "line": 54,
            "content": "",
            "highlighted": false
          },
          {
            "line": 55,
            "content": "  await client.connect();",
            "highlighted": true
          },
          {
            "line": 56,
            "content": "",
            "highlighted": false
          },
          {
            "line": 57,
            "content": "  const queries = [",
            "highlighted": false
          },
          {
            "line": 58,
            "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['1', 'Alice'] },",
            "highlighted": false
          },
          {
            "line": 59,
            "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['2', 'Bob'] }",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-authentication-failure",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 55,
      "column": 9,
      "package": "cassandra-driver",
      "function": "connect",
      "contract_clause": "authentication-failure",
      "description": "No try-catch block found. AuthenticationError - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/auth/",
      "suggested_fix": "Caller MUST handle authentication errors. DO NOT retry with same credentials. Verify username/password in connection config.\n",
      "code_snippet": {
        "startLine": 51,
        "endLine": 59,
        "lines": [
          {
            "line": 51,
            "content": "    contactPoints: ['localhost'],",
            "highlighted": false
          },
          {
            "line": 52,
            "content": "    localDataCenter: 'datacenter1'",
            "highlighted": false
          },
          {
            "line": 53,
            "content": "  });",
            "highlighted": false
          },
          {
            "line": 54,
            "content": "",
            "highlighted": false
          },
          {
            "line": 55,
            "content": "  await client.connect();",
            "highlighted": true
          },
          {
            "line": 56,
            "content": "",
            "highlighted": false
          },
          {
            "line": 57,
            "content": "  const queries = [",
            "highlighted": false
          },
          {
            "line": 58,
            "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['1', 'Alice'] },",
            "highlighted": false
          },
          {
            "line": 59,
            "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['2', 'Bob'] }",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-batch-failure",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 63,
      "column": 9,
      "package": "cassandra-driver",
      "function": "batch",
      "contract_clause": "batch-failure",
      "description": "No try-catch block found. ResponseError with details of failure - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/batch/",
      "suggested_fix": "Caller MUST handle batch errors. Entire batch fails if any statement fails. Check error code to determine failure reason. Note: Cassandra batches are NOT transactions across partitions.\n",
      "code_snippet": {
        "startLine": 59,
        "endLine": 67,
        "lines": [
          {
            "line": 59,
            "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['2', 'Bob'] }",
            "highlighted": false
          },
          {
            "line": 60,
            "content": "  ];",
            "highlighted": false
          },
          {
            "line": 61,
            "content": "",
            "highlighted": false
          },
          {
            "line": 62,
            "content": "  // ❌ No try-catch",
            "highlighted": false
          },
          {
            "line": 63,
            "content": "  await client.batch(queries, { prepare: true });",
            "highlighted": true
          },
          {
            "line": 64,
            "content": "",
            "highlighted": false
          },
          {
            "line": 65,
            "content": "  await client.shutdown();",
            "highlighted": false
          },
          {
            "line": 66,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 67,
            "content": "",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-write-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
      "line": 63,
      "column": 9,
      "package": "cassandra-driver",
      "function": "batch",
      "contract_clause": "write-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/batch/",
      "suggested_fix": "Caller MUST handle batch write timeouts. Batch may be partially applied (non-atomic across partitions). Implement idempotent retry logic.\n",
      "code_snippet": {
        "startLine": 59,
        "endLine": 67,
        "lines": [
          {
            "line": 59,
            "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['2', 'Bob'] }",
            "highlighted": false
          },
          {
            "line": 60,
            "content": "  ];",
            "highlighted": false
          },
          {
            "line": 61,
            "content": "",
            "highlighted": false
          },
          {
            "line": 62,
            "content": "  // ❌ No try-catch",
            "highlighted": false
          },
          {
            "line": 63,
            "content": "  await client.batch(queries, { prepare: true });",
            "highlighted": true
          },
          {
            "line": 64,
            "content": "",
            "highlighted": false
          },
          {
            "line": 65,
            "content": "  await client.shutdown();",
            "highlighted": false
          },
          {
            "line": 66,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 67,
            "content": "",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-connection-failure",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 20,
      "column": 9,
      "package": "cassandra-driver",
      "function": "connect",
      "contract_clause": "connection-failure",
      "description": "No try-catch block found. NoHostAvailableError with details of failed contact points - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/getting-started/",
      "suggested_fix": "Caller MUST handle NoHostAvailableError. Common causes: - All nodes unreachable - Wrong contact points - Authentication failure Check error.innerErrors for details on each contact point. Implement retry with exponential backoff.\n",
      "code_snippet": {
        "startLine": 16,
        "endLine": 24,
        "lines": [
          {
            "line": 16,
            "content": "    contactPoints: ['localhost'],",
            "highlighted": false
          },
          {
            "line": 17,
            "content": "    localDataCenter: 'datacenter1'",
            "highlighted": false
          },
          {
            "line": 18,
            "content": "  });",
            "highlighted": false
          },
          {
            "line": 19,
            "content": "",
            "highlighted": false
          },
          {
            "line": 20,
            "content": "  await client.connect();",
            "highlighted": true
          },
          {
            "line": 21,
            "content": "  return client;",
            "highlighted": false
          },
          {
            "line": 22,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 23,
            "content": "",
            "highlighted": false
          },
          {
            "line": 24,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-authentication-failure",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 20,
      "column": 9,
      "package": "cassandra-driver",
      "function": "connect",
      "contract_clause": "authentication-failure",
      "description": "No try-catch block found. AuthenticationError - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/auth/",
      "suggested_fix": "Caller MUST handle authentication errors. DO NOT retry with same credentials. Verify username/password in connection config.\n",
      "code_snippet": {
        "startLine": 16,
        "endLine": 24,
        "lines": [
          {
            "line": 16,
            "content": "    contactPoints: ['localhost'],",
            "highlighted": false
          },
          {
            "line": 17,
            "content": "    localDataCenter: 'datacenter1'",
            "highlighted": false
          },
          {
            "line": 18,
            "content": "  });",
            "highlighted": false
          },
          {
            "line": 19,
            "content": "",
            "highlighted": false
          },
          {
            "line": 20,
            "content": "  await client.connect();",
            "highlighted": true
          },
          {
            "line": 21,
            "content": "  return client;",
            "highlighted": false
          },
          {
            "line": 22,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 23,
            "content": "",
            "highlighted": false
          },
          {
            "line": 24,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-syntax-error",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 29,
      "column": 24,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "syntax-error",
      "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
      "code_snippet": {
        "startLine": 25,
        "endLine": 33,
        "lines": [
          {
            "line": 25,
            "content": " * ❌ Missing try-catch for execute",
            "highlighted": false
          },
          {
            "line": 26,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 27,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 28,
            "content": "async function executeWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 29,
            "content": "  const result = await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 30,
            "content": "  return result.rows;",
            "highlighted": false
          },
          {
            "line": 31,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 32,
            "content": "",
            "highlighted": false
          },
          {
            "line": 33,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-unavailable",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 29,
      "column": 24,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "unavailable",
      "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
      "code_snippet": {
        "startLine": 25,
        "endLine": 33,
        "lines": [
          {
            "line": 25,
            "content": " * ❌ Missing try-catch for execute",
            "highlighted": false
          },
          {
            "line": 26,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 27,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 28,
            "content": "async function executeWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 29,
            "content": "  const result = await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 30,
            "content": "  return result.rows;",
            "highlighted": false
          },
          {
            "line": 31,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 32,
            "content": "",
            "highlighted": false
          },
          {
            "line": 33,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 29,
      "column": 24,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "timeout",
      "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
      "code_snippet": {
        "startLine": 25,
        "endLine": 33,
        "lines": [
          {
            "line": 25,
            "content": " * ❌ Missing try-catch for execute",
            "highlighted": false
          },
          {
            "line": 26,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 27,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 28,
            "content": "async function executeWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 29,
            "content": "  const result = await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 30,
            "content": "  return result.rows;",
            "highlighted": false
          },
          {
            "line": 31,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 32,
            "content": "",
            "highlighted": false
          },
          {
            "line": 33,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-write-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 29,
      "column": 24,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "write-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
      "code_snippet": {
        "startLine": 25,
        "endLine": 33,
        "lines": [
          {
            "line": 25,
            "content": " * ❌ Missing try-catch for execute",
            "highlighted": false
          },
          {
            "line": 26,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 27,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 28,
            "content": "async function executeWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 29,
            "content": "  const result = await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 30,
            "content": "  return result.rows;",
            "highlighted": false
          },
          {
            "line": 31,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 32,
            "content": "",
            "highlighted": false
          },
          {
            "line": 33,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-read-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 29,
      "column": 24,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "read-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
      "code_snippet": {
        "startLine": 25,
        "endLine": 33,
        "lines": [
          {
            "line": 25,
            "content": " * ❌ Missing try-catch for execute",
            "highlighted": false
          },
          {
            "line": 26,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 27,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 28,
            "content": "async function executeWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 29,
            "content": "  const result = await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 30,
            "content": "  return result.rows;",
            "highlighted": false
          },
          {
            "line": 31,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 32,
            "content": "",
            "highlighted": false
          },
          {
            "line": 33,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-overloaded",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 29,
      "column": 24,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "overloaded",
      "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
      "code_snippet": {
        "startLine": 25,
        "endLine": 33,
        "lines": [
          {
            "line": 25,
            "content": " * ❌ Missing try-catch for execute",
            "highlighted": false
          },
          {
            "line": 26,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 27,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 28,
            "content": "async function executeWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 29,
            "content": "  const result = await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 30,
            "content": "  return result.rows;",
            "highlighted": false
          },
          {
            "line": 31,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 32,
            "content": "",
            "highlighted": false
          },
          {
            "line": 33,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-invalid-query",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 29,
      "column": 24,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "invalid-query",
      "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
      "code_snippet": {
        "startLine": 25,
        "endLine": 33,
        "lines": [
          {
            "line": 25,
            "content": " * ❌ Missing try-catch for execute",
            "highlighted": false
          },
          {
            "line": 26,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 27,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 28,
            "content": "async function executeWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 29,
            "content": "  const result = await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 30,
            "content": "  return result.rows;",
            "highlighted": false
          },
          {
            "line": 31,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 32,
            "content": "",
            "highlighted": false
          },
          {
            "line": 33,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-syntax-error",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 39,
      "column": 24,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "syntax-error",
      "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
      "code_snippet": {
        "startLine": 35,
        "endLine": 43,
        "lines": [
          {
            "line": 35,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 36,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "async function parameterizedQueryWithoutErrorHandling(client: Client, userId: string) {",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  const query = 'SELECT * FROM users WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 39,
            "content": "  const result = await client.execute(query, [userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 40,
            "content": "  return result.rows[0];",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "",
            "highlighted": false
          },
          {
            "line": 43,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-unavailable",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 39,
      "column": 24,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "unavailable",
      "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
      "code_snippet": {
        "startLine": 35,
        "endLine": 43,
        "lines": [
          {
            "line": 35,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 36,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "async function parameterizedQueryWithoutErrorHandling(client: Client, userId: string) {",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  const query = 'SELECT * FROM users WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 39,
            "content": "  const result = await client.execute(query, [userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 40,
            "content": "  return result.rows[0];",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "",
            "highlighted": false
          },
          {
            "line": 43,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 39,
      "column": 24,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "timeout",
      "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
      "code_snippet": {
        "startLine": 35,
        "endLine": 43,
        "lines": [
          {
            "line": 35,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 36,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "async function parameterizedQueryWithoutErrorHandling(client: Client, userId: string) {",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  const query = 'SELECT * FROM users WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 39,
            "content": "  const result = await client.execute(query, [userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 40,
            "content": "  return result.rows[0];",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "",
            "highlighted": false
          },
          {
            "line": 43,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-write-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 39,
      "column": 24,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "write-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
      "code_snippet": {
        "startLine": 35,
        "endLine": 43,
        "lines": [
          {
            "line": 35,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 36,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "async function parameterizedQueryWithoutErrorHandling(client: Client, userId: string) {",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  const query = 'SELECT * FROM users WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 39,
            "content": "  const result = await client.execute(query, [userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 40,
            "content": "  return result.rows[0];",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "",
            "highlighted": false
          },
          {
            "line": 43,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-read-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 39,
      "column": 24,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "read-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
      "code_snippet": {
        "startLine": 35,
        "endLine": 43,
        "lines": [
          {
            "line": 35,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 36,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "async function parameterizedQueryWithoutErrorHandling(client: Client, userId: string) {",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  const query = 'SELECT * FROM users WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 39,
            "content": "  const result = await client.execute(query, [userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 40,
            "content": "  return result.rows[0];",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "",
            "highlighted": false
          },
          {
            "line": 43,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-overloaded",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 39,
      "column": 24,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "overloaded",
      "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
      "code_snippet": {
        "startLine": 35,
        "endLine": 43,
        "lines": [
          {
            "line": 35,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 36,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "async function parameterizedQueryWithoutErrorHandling(client: Client, userId: string) {",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  const query = 'SELECT * FROM users WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 39,
            "content": "  const result = await client.execute(query, [userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 40,
            "content": "  return result.rows[0];",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "",
            "highlighted": false
          },
          {
            "line": 43,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-invalid-query",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 39,
      "column": 24,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "invalid-query",
      "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
      "code_snippet": {
        "startLine": 35,
        "endLine": 43,
        "lines": [
          {
            "line": 35,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 36,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 37,
            "content": "async function parameterizedQueryWithoutErrorHandling(client: Client, userId: string) {",
            "highlighted": false
          },
          {
            "line": 38,
            "content": "  const query = 'SELECT * FROM users WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 39,
            "content": "  const result = await client.execute(query, [userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 40,
            "content": "  return result.rows[0];",
            "highlighted": false
          },
          {
            "line": 41,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 42,
            "content": "",
            "highlighted": false
          },
          {
            "line": 43,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-syntax-error",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 49,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "syntax-error",
      "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
      "code_snippet": {
        "startLine": 45,
        "endLine": 53,
        "lines": [
          {
            "line": 45,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 46,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 47,
            "content": "async function insertWithoutErrorHandling(client: Client, id: string, name: string) {",
            "highlighted": false
          },
          {
            "line": 48,
            "content": "  const query = 'INSERT INTO users (id, name) VALUES (?, ?)';",
            "highlighted": false
          },
          {
            "line": 49,
            "content": "  await client.execute(query, [id, name], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 50,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 51,
            "content": "",
            "highlighted": false
          },
          {
            "line": 52,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 53,
            "content": " * ❌ Missing try-catch for UPDATE",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-unavailable",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 49,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "unavailable",
      "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
      "code_snippet": {
        "startLine": 45,
        "endLine": 53,
        "lines": [
          {
            "line": 45,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 46,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 47,
            "content": "async function insertWithoutErrorHandling(client: Client, id: string, name: string) {",
            "highlighted": false
          },
          {
            "line": 48,
            "content": "  const query = 'INSERT INTO users (id, name) VALUES (?, ?)';",
            "highlighted": false
          },
          {
            "line": 49,
            "content": "  await client.execute(query, [id, name], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 50,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 51,
            "content": "",
            "highlighted": false
          },
          {
            "line": 52,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 53,
            "content": " * ❌ Missing try-catch for UPDATE",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 49,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "timeout",
      "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
      "code_snippet": {
        "startLine": 45,
        "endLine": 53,
        "lines": [
          {
            "line": 45,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 46,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 47,
            "content": "async function insertWithoutErrorHandling(client: Client, id: string, name: string) {",
            "highlighted": false
          },
          {
            "line": 48,
            "content": "  const query = 'INSERT INTO users (id, name) VALUES (?, ?)';",
            "highlighted": false
          },
          {
            "line": 49,
            "content": "  await client.execute(query, [id, name], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 50,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 51,
            "content": "",
            "highlighted": false
          },
          {
            "line": 52,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 53,
            "content": " * ❌ Missing try-catch for UPDATE",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-write-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 49,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "write-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
      "code_snippet": {
        "startLine": 45,
        "endLine": 53,
        "lines": [
          {
            "line": 45,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 46,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 47,
            "content": "async function insertWithoutErrorHandling(client: Client, id: string, name: string) {",
            "highlighted": false
          },
          {
            "line": 48,
            "content": "  const query = 'INSERT INTO users (id, name) VALUES (?, ?)';",
            "highlighted": false
          },
          {
            "line": 49,
            "content": "  await client.execute(query, [id, name], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 50,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 51,
            "content": "",
            "highlighted": false
          },
          {
            "line": 52,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 53,
            "content": " * ❌ Missing try-catch for UPDATE",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-read-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 49,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "read-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
      "code_snippet": {
        "startLine": 45,
        "endLine": 53,
        "lines": [
          {
            "line": 45,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 46,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 47,
            "content": "async function insertWithoutErrorHandling(client: Client, id: string, name: string) {",
            "highlighted": false
          },
          {
            "line": 48,
            "content": "  const query = 'INSERT INTO users (id, name) VALUES (?, ?)';",
            "highlighted": false
          },
          {
            "line": 49,
            "content": "  await client.execute(query, [id, name], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 50,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 51,
            "content": "",
            "highlighted": false
          },
          {
            "line": 52,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 53,
            "content": " * ❌ Missing try-catch for UPDATE",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-overloaded",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 49,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "overloaded",
      "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
      "code_snippet": {
        "startLine": 45,
        "endLine": 53,
        "lines": [
          {
            "line": 45,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 46,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 47,
            "content": "async function insertWithoutErrorHandling(client: Client, id: string, name: string) {",
            "highlighted": false
          },
          {
            "line": 48,
            "content": "  const query = 'INSERT INTO users (id, name) VALUES (?, ?)';",
            "highlighted": false
          },
          {
            "line": 49,
            "content": "  await client.execute(query, [id, name], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 50,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 51,
            "content": "",
            "highlighted": false
          },
          {
            "line": 52,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 53,
            "content": " * ❌ Missing try-catch for UPDATE",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-invalid-query",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 49,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "invalid-query",
      "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
      "code_snippet": {
        "startLine": 45,
        "endLine": 53,
        "lines": [
          {
            "line": 45,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 46,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 47,
            "content": "async function insertWithoutErrorHandling(client: Client, id: string, name: string) {",
            "highlighted": false
          },
          {
            "line": 48,
            "content": "  const query = 'INSERT INTO users (id, name) VALUES (?, ?)';",
            "highlighted": false
          },
          {
            "line": 49,
            "content": "  await client.execute(query, [id, name], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 50,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 51,
            "content": "",
            "highlighted": false
          },
          {
            "line": 52,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 53,
            "content": " * ❌ Missing try-catch for UPDATE",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-syntax-error",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 58,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "syntax-error",
      "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
      "code_snippet": {
        "startLine": 54,
        "endLine": 62,
        "lines": [
          {
            "line": 54,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 55,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 56,
            "content": "async function updateWithoutErrorHandling(client: Client, userId: string, name: string) {",
            "highlighted": false
          },
          {
            "line": 57,
            "content": "  const query = 'UPDATE users SET name = ? WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 58,
            "content": "  await client.execute(query, [name, userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 59,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 60,
            "content": "",
            "highlighted": false
          },
          {
            "line": 61,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 62,
            "content": " * ❌ Missing try-catch for DELETE",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-unavailable",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 58,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "unavailable",
      "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
      "code_snippet": {
        "startLine": 54,
        "endLine": 62,
        "lines": [
          {
            "line": 54,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 55,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 56,
            "content": "async function updateWithoutErrorHandling(client: Client, userId: string, name: string) {",
            "highlighted": false
          },
          {
            "line": 57,
            "content": "  const query = 'UPDATE users SET name = ? WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 58,
            "content": "  await client.execute(query, [name, userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 59,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 60,
            "content": "",
            "highlighted": false
          },
          {
            "line": 61,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 62,
            "content": " * ❌ Missing try-catch for DELETE",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 58,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "timeout",
      "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
      "code_snippet": {
        "startLine": 54,
        "endLine": 62,
        "lines": [
          {
            "line": 54,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 55,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 56,
            "content": "async function updateWithoutErrorHandling(client: Client, userId: string, name: string) {",
            "highlighted": false
          },
          {
            "line": 57,
            "content": "  const query = 'UPDATE users SET name = ? WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 58,
            "content": "  await client.execute(query, [name, userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 59,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 60,
            "content": "",
            "highlighted": false
          },
          {
            "line": 61,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 62,
            "content": " * ❌ Missing try-catch for DELETE",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-write-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 58,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "write-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
      "code_snippet": {
        "startLine": 54,
        "endLine": 62,
        "lines": [
          {
            "line": 54,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 55,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 56,
            "content": "async function updateWithoutErrorHandling(client: Client, userId: string, name: string) {",
            "highlighted": false
          },
          {
            "line": 57,
            "content": "  const query = 'UPDATE users SET name = ? WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 58,
            "content": "  await client.execute(query, [name, userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 59,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 60,
            "content": "",
            "highlighted": false
          },
          {
            "line": 61,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 62,
            "content": " * ❌ Missing try-catch for DELETE",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-read-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 58,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "read-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
      "code_snippet": {
        "startLine": 54,
        "endLine": 62,
        "lines": [
          {
            "line": 54,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 55,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 56,
            "content": "async function updateWithoutErrorHandling(client: Client, userId: string, name: string) {",
            "highlighted": false
          },
          {
            "line": 57,
            "content": "  const query = 'UPDATE users SET name = ? WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 58,
            "content": "  await client.execute(query, [name, userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 59,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 60,
            "content": "",
            "highlighted": false
          },
          {
            "line": 61,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 62,
            "content": " * ❌ Missing try-catch for DELETE",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-overloaded",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 58,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "overloaded",
      "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
      "code_snippet": {
        "startLine": 54,
        "endLine": 62,
        "lines": [
          {
            "line": 54,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 55,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 56,
            "content": "async function updateWithoutErrorHandling(client: Client, userId: string, name: string) {",
            "highlighted": false
          },
          {
            "line": 57,
            "content": "  const query = 'UPDATE users SET name = ? WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 58,
            "content": "  await client.execute(query, [name, userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 59,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 60,
            "content": "",
            "highlighted": false
          },
          {
            "line": 61,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 62,
            "content": " * ❌ Missing try-catch for DELETE",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-invalid-query",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 58,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "invalid-query",
      "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
      "code_snippet": {
        "startLine": 54,
        "endLine": 62,
        "lines": [
          {
            "line": 54,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 55,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 56,
            "content": "async function updateWithoutErrorHandling(client: Client, userId: string, name: string) {",
            "highlighted": false
          },
          {
            "line": 57,
            "content": "  const query = 'UPDATE users SET name = ? WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 58,
            "content": "  await client.execute(query, [name, userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 59,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 60,
            "content": "",
            "highlighted": false
          },
          {
            "line": 61,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 62,
            "content": " * ❌ Missing try-catch for DELETE",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-syntax-error",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 67,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "syntax-error",
      "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
      "code_snippet": {
        "startLine": 63,
        "endLine": 71,
        "lines": [
          {
            "line": 63,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 64,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 65,
            "content": "async function deleteWithoutErrorHandling(client: Client, userId: string) {",
            "highlighted": false
          },
          {
            "line": 66,
            "content": "  const query = 'DELETE FROM users WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 67,
            "content": "  await client.execute(query, [userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 68,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 69,
            "content": "",
            "highlighted": false
          },
          {
            "line": 70,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 71,
            "content": " * ❌ Missing try-catch for batch operations",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-unavailable",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 67,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "unavailable",
      "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
      "code_snippet": {
        "startLine": 63,
        "endLine": 71,
        "lines": [
          {
            "line": 63,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 64,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 65,
            "content": "async function deleteWithoutErrorHandling(client: Client, userId: string) {",
            "highlighted": false
          },
          {
            "line": 66,
            "content": "  const query = 'DELETE FROM users WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 67,
            "content": "  await client.execute(query, [userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 68,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 69,
            "content": "",
            "highlighted": false
          },
          {
            "line": 70,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 71,
            "content": " * ❌ Missing try-catch for batch operations",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 67,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "timeout",
      "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
      "code_snippet": {
        "startLine": 63,
        "endLine": 71,
        "lines": [
          {
            "line": 63,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 64,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 65,
            "content": "async function deleteWithoutErrorHandling(client: Client, userId: string) {",
            "highlighted": false
          },
          {
            "line": 66,
            "content": "  const query = 'DELETE FROM users WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 67,
            "content": "  await client.execute(query, [userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 68,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 69,
            "content": "",
            "highlighted": false
          },
          {
            "line": 70,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 71,
            "content": " * ❌ Missing try-catch for batch operations",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-write-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 67,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "write-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
      "code_snippet": {
        "startLine": 63,
        "endLine": 71,
        "lines": [
          {
            "line": 63,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 64,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 65,
            "content": "async function deleteWithoutErrorHandling(client: Client, userId: string) {",
            "highlighted": false
          },
          {
            "line": 66,
            "content": "  const query = 'DELETE FROM users WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 67,
            "content": "  await client.execute(query, [userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 68,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 69,
            "content": "",
            "highlighted": false
          },
          {
            "line": 70,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 71,
            "content": " * ❌ Missing try-catch for batch operations",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-read-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 67,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "read-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
      "code_snippet": {
        "startLine": 63,
        "endLine": 71,
        "lines": [
          {
            "line": 63,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 64,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 65,
            "content": "async function deleteWithoutErrorHandling(client: Client, userId: string) {",
            "highlighted": false
          },
          {
            "line": 66,
            "content": "  const query = 'DELETE FROM users WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 67,
            "content": "  await client.execute(query, [userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 68,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 69,
            "content": "",
            "highlighted": false
          },
          {
            "line": 70,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 71,
            "content": " * ❌ Missing try-catch for batch operations",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-overloaded",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 67,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "overloaded",
      "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
      "code_snippet": {
        "startLine": 63,
        "endLine": 71,
        "lines": [
          {
            "line": 63,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 64,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 65,
            "content": "async function deleteWithoutErrorHandling(client: Client, userId: string) {",
            "highlighted": false
          },
          {
            "line": 66,
            "content": "  const query = 'DELETE FROM users WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 67,
            "content": "  await client.execute(query, [userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 68,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 69,
            "content": "",
            "highlighted": false
          },
          {
            "line": 70,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 71,
            "content": " * ❌ Missing try-catch for batch operations",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-invalid-query",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 67,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "invalid-query",
      "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
      "code_snippet": {
        "startLine": 63,
        "endLine": 71,
        "lines": [
          {
            "line": 63,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 64,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 65,
            "content": "async function deleteWithoutErrorHandling(client: Client, userId: string) {",
            "highlighted": false
          },
          {
            "line": 66,
            "content": "  const query = 'DELETE FROM users WHERE id = ?';",
            "highlighted": false
          },
          {
            "line": 67,
            "content": "  await client.execute(query, [userId], { prepare: true });",
            "highlighted": true
          },
          {
            "line": 68,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 69,
            "content": "",
            "highlighted": false
          },
          {
            "line": 70,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 71,
            "content": " * ❌ Missing try-catch for batch operations",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-batch-failure",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 80,
      "column": 9,
      "package": "cassandra-driver",
      "function": "batch",
      "contract_clause": "batch-failure",
      "description": "No try-catch block found. ResponseError with details of failure - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/batch/",
      "suggested_fix": "Caller MUST handle batch errors. Entire batch fails if any statement fails. Check error code to determine failure reason. Note: Cassandra batches are NOT transactions across partitions.\n",
      "code_snippet": {
        "startLine": 76,
        "endLine": 84,
        "lines": [
          {
            "line": 76,
            "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['1', 'Alice'] },",
            "highlighted": false
          },
          {
            "line": 77,
            "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['2', 'Bob'] }",
            "highlighted": false
          },
          {
            "line": 78,
            "content": "  ];",
            "highlighted": false
          },
          {
            "line": 79,
            "content": "",
            "highlighted": false
          },
          {
            "line": 80,
            "content": "  await client.batch(queries, { prepare: true });",
            "highlighted": true
          },
          {
            "line": 81,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 82,
            "content": "",
            "highlighted": false
          },
          {
            "line": 83,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 84,
            "content": " * ❌ Missing try-catch for multiple queries",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-write-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 80,
      "column": 9,
      "package": "cassandra-driver",
      "function": "batch",
      "contract_clause": "write-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/batch/",
      "suggested_fix": "Caller MUST handle batch write timeouts. Batch may be partially applied (non-atomic across partitions). Implement idempotent retry logic.\n",
      "code_snippet": {
        "startLine": 76,
        "endLine": 84,
        "lines": [
          {
            "line": 76,
            "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['1', 'Alice'] },",
            "highlighted": false
          },
          {
            "line": 77,
            "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['2', 'Bob'] }",
            "highlighted": false
          },
          {
            "line": 78,
            "content": "  ];",
            "highlighted": false
          },
          {
            "line": 79,
            "content": "",
            "highlighted": false
          },
          {
            "line": 80,
            "content": "  await client.batch(queries, { prepare: true });",
            "highlighted": true
          },
          {
            "line": 81,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 82,
            "content": "",
            "highlighted": false
          },
          {
            "line": 83,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 84,
            "content": " * ❌ Missing try-catch for multiple queries",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-syntax-error",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 88,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "syntax-error",
      "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
      "code_snippet": {
        "startLine": 84,
        "endLine": 92,
        "lines": [
          {
            "line": 84,
            "content": " * ❌ Missing try-catch for multiple queries",
            "highlighted": false
          },
          {
            "line": 85,
            "content": " * Should trigger ERROR violations",
            "highlighted": false
          },
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": false
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-unavailable",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 88,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "unavailable",
      "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
      "code_snippet": {
        "startLine": 84,
        "endLine": 92,
        "lines": [
          {
            "line": 84,
            "content": " * ❌ Missing try-catch for multiple queries",
            "highlighted": false
          },
          {
            "line": 85,
            "content": " * Should trigger ERROR violations",
            "highlighted": false
          },
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": false
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 88,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "timeout",
      "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
      "code_snippet": {
        "startLine": 84,
        "endLine": 92,
        "lines": [
          {
            "line": 84,
            "content": " * ❌ Missing try-catch for multiple queries",
            "highlighted": false
          },
          {
            "line": 85,
            "content": " * Should trigger ERROR violations",
            "highlighted": false
          },
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": false
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-write-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 88,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "write-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
      "code_snippet": {
        "startLine": 84,
        "endLine": 92,
        "lines": [
          {
            "line": 84,
            "content": " * ❌ Missing try-catch for multiple queries",
            "highlighted": false
          },
          {
            "line": 85,
            "content": " * Should trigger ERROR violations",
            "highlighted": false
          },
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": false
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-read-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 88,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "read-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
      "code_snippet": {
        "startLine": 84,
        "endLine": 92,
        "lines": [
          {
            "line": 84,
            "content": " * ❌ Missing try-catch for multiple queries",
            "highlighted": false
          },
          {
            "line": 85,
            "content": " * Should trigger ERROR violations",
            "highlighted": false
          },
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": false
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-overloaded",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 88,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "overloaded",
      "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
      "code_snippet": {
        "startLine": 84,
        "endLine": 92,
        "lines": [
          {
            "line": 84,
            "content": " * ❌ Missing try-catch for multiple queries",
            "highlighted": false
          },
          {
            "line": 85,
            "content": " * Should trigger ERROR violations",
            "highlighted": false
          },
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": false
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-invalid-query",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 88,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "invalid-query",
      "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
      "code_snippet": {
        "startLine": 84,
        "endLine": 92,
        "lines": [
          {
            "line": 84,
            "content": " * ❌ Missing try-catch for multiple queries",
            "highlighted": false
          },
          {
            "line": 85,
            "content": " * Should trigger ERROR violations",
            "highlighted": false
          },
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": false
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-syntax-error",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 89,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "syntax-error",
      "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
      "code_snippet": {
        "startLine": 85,
        "endLine": 93,
        "lines": [
          {
            "line": 85,
            "content": " * Should trigger ERROR violations",
            "highlighted": false
          },
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": true
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": false
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          },
          {
            "line": 93,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-unavailable",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 89,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "unavailable",
      "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
      "code_snippet": {
        "startLine": 85,
        "endLine": 93,
        "lines": [
          {
            "line": 85,
            "content": " * Should trigger ERROR violations",
            "highlighted": false
          },
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": true
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": false
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          },
          {
            "line": 93,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 89,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "timeout",
      "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
      "code_snippet": {
        "startLine": 85,
        "endLine": 93,
        "lines": [
          {
            "line": 85,
            "content": " * Should trigger ERROR violations",
            "highlighted": false
          },
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": true
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": false
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          },
          {
            "line": 93,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-write-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 89,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "write-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
      "code_snippet": {
        "startLine": 85,
        "endLine": 93,
        "lines": [
          {
            "line": 85,
            "content": " * Should trigger ERROR violations",
            "highlighted": false
          },
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": true
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": false
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          },
          {
            "line": 93,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-read-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 89,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "read-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
      "code_snippet": {
        "startLine": 85,
        "endLine": 93,
        "lines": [
          {
            "line": 85,
            "content": " * Should trigger ERROR violations",
            "highlighted": false
          },
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": true
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": false
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          },
          {
            "line": 93,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-overloaded",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 89,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "overloaded",
      "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
      "code_snippet": {
        "startLine": 85,
        "endLine": 93,
        "lines": [
          {
            "line": 85,
            "content": " * Should trigger ERROR violations",
            "highlighted": false
          },
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": true
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": false
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          },
          {
            "line": 93,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-invalid-query",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 89,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "invalid-query",
      "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
      "code_snippet": {
        "startLine": 85,
        "endLine": 93,
        "lines": [
          {
            "line": 85,
            "content": " * Should trigger ERROR violations",
            "highlighted": false
          },
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": true
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": false
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          },
          {
            "line": 93,
            "content": "/**",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-syntax-error",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 90,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "syntax-error",
      "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
      "code_snippet": {
        "startLine": 86,
        "endLine": 94,
        "lines": [
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": true
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          },
          {
            "line": 93,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 94,
            "content": " * ❌ Missing try-catch for shutdown",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-unavailable",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 90,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "unavailable",
      "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
      "code_snippet": {
        "startLine": 86,
        "endLine": 94,
        "lines": [
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": true
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          },
          {
            "line": 93,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 94,
            "content": " * ❌ Missing try-catch for shutdown",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 90,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "timeout",
      "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
      "code_snippet": {
        "startLine": 86,
        "endLine": 94,
        "lines": [
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": true
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          },
          {
            "line": 93,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 94,
            "content": " * ❌ Missing try-catch for shutdown",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-write-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 90,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "write-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
      "code_snippet": {
        "startLine": 86,
        "endLine": 94,
        "lines": [
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": true
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          },
          {
            "line": 93,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 94,
            "content": " * ❌ Missing try-catch for shutdown",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-read-timeout",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 90,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "read-timeout",
      "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
      "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
      "code_snippet": {
        "startLine": 86,
        "endLine": 94,
        "lines": [
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": true
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          },
          {
            "line": 93,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 94,
            "content": " * ❌ Missing try-catch for shutdown",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-overloaded",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 90,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "overloaded",
      "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
      "code_snippet": {
        "startLine": 86,
        "endLine": 94,
        "lines": [
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": true
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          },
          {
            "line": 93,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 94,
            "content": " * ❌ Missing try-catch for shutdown",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-invalid-query",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 90,
      "column": 9,
      "package": "cassandra-driver",
      "function": "execute",
      "contract_clause": "invalid-query",
      "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
      "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
      "code_snippet": {
        "startLine": 86,
        "endLine": 94,
        "lines": [
          {
            "line": 86,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 87,
            "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 88,
            "content": "  await client.execute('SELECT * FROM users');",
            "highlighted": false
          },
          {
            "line": 89,
            "content": "  await client.execute('SELECT * FROM products');",
            "highlighted": false
          },
          {
            "line": 90,
            "content": "  await client.execute('SELECT * FROM orders');",
            "highlighted": true
          },
          {
            "line": 91,
            "content": "}",
            "highlighted": false
          },
          {
            "line": 92,
            "content": "",
            "highlighted": false
          },
          {
            "line": 93,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 94,
            "content": " * ❌ Missing try-catch for shutdown",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-stream-error",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 106,
      "column": 18,
      "package": "cassandra-driver",
      "function": "stream",
      "contract_clause": "stream-error",
      "description": "No try-catch block found. ResponseError emitted via 'error' event - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/queries/",
      "suggested_fix": "Caller MUST listen for 'error' event on stream. Without error listener, unhandled error will crash process. Errors can occur during query execution or while reading rows. Handle NoHostAvailableError, OperationTimedOutError, ResponseError.\n",
      "code_snippet": {
        "startLine": 102,
        "endLine": 110,
        "lines": [
          {
            "line": 102,
            "content": " * ❌ Stream without error listener",
            "highlighted": false
          },
          {
            "line": 103,
            "content": " * Should trigger ERROR violation - critical bug!",
            "highlighted": false
          },
          {
            "line": 104,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 105,
            "content": "function streamWithoutErrorListener(client: Client) {",
            "highlighted": false
          },
          {
            "line": 106,
            "content": "  const stream = client.stream('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 107,
            "content": "",
            "highlighted": false
          },
          {
            "line": 108,
            "content": "  stream.on('readable', function() {",
            "highlighted": false
          },
          {
            "line": 109,
            "content": "    let row;",
            "highlighted": false
          },
          {
            "line": 110,
            "content": "    while (row = this.read()) {",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-row-callback-error",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
      "line": 128,
      "column": 3,
      "package": "cassandra-driver",
      "function": "eachRow",
      "contract_clause": "row-callback-error",
      "description": "No try-catch block found. Error passed to endCallback parameter - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/queries/",
      "suggested_fix": "Caller MUST check error parameter in endCallback. Errors include: - NoHostAvailableError: Connection failure - OperationTimedOutError: Query timeout - ResponseError: Server-side query error If row callback throws, eachRow stops and calls endCallback with error.\n",
      "code_snippet": {
        "startLine": 124,
        "endLine": 132,
        "lines": [
          {
            "line": 124,
            "content": " * ❌ eachRow without error checking in endCallback",
            "highlighted": false
          },
          {
            "line": 125,
            "content": " * Should trigger ERROR violation",
            "highlighted": false
          },
          {
            "line": 126,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 127,
            "content": "function eachRowWithoutErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 128,
            "content": "  client.eachRow(",
            "highlighted": true
          },
          {
            "line": 129,
            "content": "    'SELECT * FROM users',",
            "highlighted": false
          },
          {
            "line": 130,
            "content": "    [],",
            "highlighted": false
          },
          {
            "line": 131,
            "content": "    { prepare: true },",
            "highlighted": false
          },
          {
            "line": 132,
            "content": "    function rowCallback(n, row) {",
            "highlighted": false
          }
        ]
      }
    },
    {
      "id": "cassandra-driver-stream-error",
      "severity": "error",
      "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/proper-error-handling.ts",
      "line": 129,
      "column": 18,
      "package": "cassandra-driver",
      "function": "stream",
      "contract_clause": "stream-error",
      "description": "No try-catch block found. ResponseError emitted via 'error' event - this will crash the application.",
      "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/queries/",
      "suggested_fix": "Caller MUST listen for 'error' event on stream. Without error listener, unhandled error will crash process. Errors can occur during query execution or while reading rows. Handle NoHostAvailableError, OperationTimedOutError, ResponseError.\n",
      "code_snippet": {
        "startLine": 125,
        "endLine": 133,
        "lines": [
          {
            "line": 125,
            "content": "/**",
            "highlighted": false
          },
          {
            "line": 126,
            "content": " * ✅ Proper error handling for stream - MUST listen for 'error' event",
            "highlighted": false
          },
          {
            "line": 127,
            "content": " */",
            "highlighted": false
          },
          {
            "line": 128,
            "content": "function streamWithErrorHandling(client: Client) {",
            "highlighted": false
          },
          {
            "line": 129,
            "content": "  const stream = client.stream('SELECT * FROM users');",
            "highlighted": true
          },
          {
            "line": 130,
            "content": "",
            "highlighted": false
          },
          {
            "line": 131,
            "content": "  stream.on('readable', function() {",
            "highlighted": false
          },
          {
            "line": 132,
            "content": "    let row;",
            "highlighted": false
          },
          {
            "line": 133,
            "content": "    while (row = this.read()) {",
            "highlighted": false
          }
        ]
      }
    }
  ],
  "summary": {
    "total_violations": 104,
    "error_count": 104,
    "warning_count": 0,
    "info_count": 0,
    "passed": false
  },
  "package_discovery": {
    "total": 13,
    "withContracts": 3,
    "withoutContracts": 10,
    "packages": [
      {
        "name": "ajv",
        "version": "^8.12.0",
        "source": "package.json",
        "hasContract": true,
        "contractVersion": "1.0.0",
        "usedIn": []
      },
      {
        "name": "cassandra-driver",
        "version": "unknown",
        "source": "import",
        "hasContract": true,
        "contractVersion": "1.0.0",
        "usedIn": [
          "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/edge-cases.ts",
          "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/proper-error-handling.ts"
        ]
      },
      {
        "name": "typescript",
        "version": "^5.3.3",
        "source": "package.json",
        "hasContract": true,
        "contractVersion": "1.0.0",
        "usedIn": []
      },
      {
        "name": "@behavioral-contracts/corpus",
        "version": "^1.0.0",
        "source": "package.json",
        "hasContract": false,
        "usedIn": []
      },
      {
        "name": "@types/node",
        "version": "^20.11.0",
        "source": "package.json",
        "hasContract": false,
        "usedIn": []
      },
      {
        "name": "@typescript-eslint/eslint-plugin",
        "version": "^6.19.0",
        "source": "package.json",
        "hasContract": false,
        "usedIn": []
      },
      {
        "name": "@typescript-eslint/parser",
        "version": "^6.19.0",
        "source": "package.json",
        "hasContract": false,
        "usedIn": []
      },
      {
        "name": "chalk",
        "version": "^5.3.0",
        "source": "package.json",
        "hasContract": false,
        "usedIn": []
      },
      {
        "name": "commander",
        "version": "^12.0.0",
        "source": "package.json",
        "hasContract": false,
        "usedIn": []
      },
      {
        "name": "eslint",
        "version": "^8.56.0",
        "source": "package.json",
        "hasContract": false,
        "usedIn": []
      },
      {
        "name": "glob",
        "version": "^10.3.10",
        "source": "package.json",
        "hasContract": false,
        "usedIn": []
      },
      {
        "name": "vitest",
        "version": "^1.2.0",
        "source": "package.json",
        "hasContract": false,
        "usedIn": []
      },
      {
        "name": "yaml",
        "version": "^2.3.4",
        "source": "package.json",
        "hasContract": false,
        "usedIn": []
      }
    ]
  },
  "violations_by_package": {
    "cassandra-driver": {
      "total": 104,
      "errors": 104,
      "warnings": 0,
      "info": 0,
      "violations": [
        {
          "id": "cassandra-driver-stream-error",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/edge-cases.ts",
          "line": 154,
          "column": 18,
          "package": "cassandra-driver",
          "function": "stream",
          "contract_clause": "stream-error",
          "description": "No try-catch block found. ResponseError emitted via 'error' event - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/queries/",
          "suggested_fix": "Caller MUST listen for 'error' event on stream. Without error listener, unhandled error will crash process. Errors can occur during query execution or while reading rows. Handle NoHostAvailableError, OperationTimedOutError, ResponseError.\n",
          "code_snippet": {
            "startLine": 150,
            "endLine": 158,
            "lines": [
              {
                "line": 150,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 151,
                "content": " * ❌ Stream without error listener (edge case - should fail)",
                "highlighted": false
              },
              {
                "line": 152,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 153,
                "content": "function streamMissingErrorHandler() {",
                "highlighted": false
              },
              {
                "line": 154,
                "content": "  const stream = client.stream('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 155,
                "content": "",
                "highlighted": false
              },
              {
                "line": 156,
                "content": "  stream.on('readable', function() {",
                "highlighted": false
              },
              {
                "line": 157,
                "content": "    let row;",
                "highlighted": false
              },
              {
                "line": 158,
                "content": "    while (row = this.read()) {",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-stream-error",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/edge-cases.ts",
          "line": 171,
          "column": 18,
          "package": "cassandra-driver",
          "function": "stream",
          "contract_clause": "stream-error",
          "description": "No try-catch block found. ResponseError emitted via 'error' event - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/queries/",
          "suggested_fix": "Caller MUST listen for 'error' event on stream. Without error listener, unhandled error will crash process. Errors can occur during query execution or while reading rows. Handle NoHostAvailableError, OperationTimedOutError, ResponseError.\n",
          "code_snippet": {
            "startLine": 167,
            "endLine": 175,
            "lines": [
              {
                "line": 167,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 168,
                "content": " * ✅ Proper stream error handling with timeout",
                "highlighted": false
              },
              {
                "line": 169,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 170,
                "content": "function streamWithTimeout() {",
                "highlighted": false
              },
              {
                "line": 171,
                "content": "  const stream = client.stream('SELECT * FROM users', [], { readTimeout: 5000 });",
                "highlighted": true
              },
              {
                "line": 172,
                "content": "",
                "highlighted": false
              },
              {
                "line": 173,
                "content": "  stream.on('readable', function() {",
                "highlighted": false
              },
              {
                "line": 174,
                "content": "    let row;",
                "highlighted": false
              },
              {
                "line": 175,
                "content": "    while (row = this.read()) {",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-row-callback-error",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/edge-cases.ts",
          "line": 199,
          "column": 3,
          "package": "cassandra-driver",
          "function": "eachRow",
          "contract_clause": "row-callback-error",
          "description": "No try-catch block found. Error passed to endCallback parameter - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/queries/",
          "suggested_fix": "Caller MUST check error parameter in endCallback. Errors include: - NoHostAvailableError: Connection failure - OperationTimedOutError: Query timeout - ResponseError: Server-side query error If row callback throws, eachRow stops and calls endCallback with error.\n",
          "code_snippet": {
            "startLine": 195,
            "endLine": 203,
            "lines": [
              {
                "line": 195,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 196,
                "content": " * ❌ eachRow without error handling (edge case - should fail)",
                "highlighted": false
              },
              {
                "line": 197,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 198,
                "content": "function eachRowMissingErrorCheck() {",
                "highlighted": false
              },
              {
                "line": 199,
                "content": "  client.eachRow(",
                "highlighted": true
              },
              {
                "line": 200,
                "content": "    'SELECT * FROM users',",
                "highlighted": false
              },
              {
                "line": 201,
                "content": "    [],",
                "highlighted": false
              },
              {
                "line": 202,
                "content": "    function rowCallback(n, row) {",
                "highlighted": false
              },
              {
                "line": 203,
                "content": "      console.log('Row', n, ':', row);",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-connection-failure",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 20,
          "column": 9,
          "package": "cassandra-driver",
          "function": "connect",
          "contract_clause": "connection-failure",
          "description": "No try-catch block found. NoHostAvailableError with details of failed contact points - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/getting-started/",
          "suggested_fix": "Caller MUST handle NoHostAvailableError. Common causes: - All nodes unreachable - Wrong contact points - Authentication failure Check error.innerErrors for details on each contact point. Implement retry with exponential backoff.\n",
          "code_snippet": {
            "startLine": 16,
            "endLine": 24,
            "lines": [
              {
                "line": 16,
                "content": "    localDataCenter: 'datacenter1'",
                "highlighted": false
              },
              {
                "line": 17,
                "content": "  });",
                "highlighted": false
              },
              {
                "line": 18,
                "content": "",
                "highlighted": false
              },
              {
                "line": 19,
                "content": "  // ❌ Multiple operations without try-catch",
                "highlighted": false
              },
              {
                "line": 20,
                "content": "  await client.connect();",
                "highlighted": true
              },
              {
                "line": 21,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 22,
                "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
                "highlighted": false
              },
              {
                "line": 23,
                "content": "  await client.shutdown();",
                "highlighted": false
              },
              {
                "line": 24,
                "content": "}",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-authentication-failure",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 20,
          "column": 9,
          "package": "cassandra-driver",
          "function": "connect",
          "contract_clause": "authentication-failure",
          "description": "No try-catch block found. AuthenticationError - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/auth/",
          "suggested_fix": "Caller MUST handle authentication errors. DO NOT retry with same credentials. Verify username/password in connection config.\n",
          "code_snippet": {
            "startLine": 16,
            "endLine": 24,
            "lines": [
              {
                "line": 16,
                "content": "    localDataCenter: 'datacenter1'",
                "highlighted": false
              },
              {
                "line": 17,
                "content": "  });",
                "highlighted": false
              },
              {
                "line": 18,
                "content": "",
                "highlighted": false
              },
              {
                "line": 19,
                "content": "  // ❌ Multiple operations without try-catch",
                "highlighted": false
              },
              {
                "line": 20,
                "content": "  await client.connect();",
                "highlighted": true
              },
              {
                "line": 21,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 22,
                "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
                "highlighted": false
              },
              {
                "line": 23,
                "content": "  await client.shutdown();",
                "highlighted": false
              },
              {
                "line": 24,
                "content": "}",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-syntax-error",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 21,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "syntax-error",
          "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
          "code_snippet": {
            "startLine": 17,
            "endLine": 25,
            "lines": [
              {
                "line": 17,
                "content": "  });",
                "highlighted": false
              },
              {
                "line": 18,
                "content": "",
                "highlighted": false
              },
              {
                "line": 19,
                "content": "  // ❌ Multiple operations without try-catch",
                "highlighted": false
              },
              {
                "line": 20,
                "content": "  await client.connect();",
                "highlighted": false
              },
              {
                "line": 21,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 22,
                "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
                "highlighted": false
              },
              {
                "line": 23,
                "content": "  await client.shutdown();",
                "highlighted": false
              },
              {
                "line": 24,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 25,
                "content": "",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-unavailable",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 21,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "unavailable",
          "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
          "code_snippet": {
            "startLine": 17,
            "endLine": 25,
            "lines": [
              {
                "line": 17,
                "content": "  });",
                "highlighted": false
              },
              {
                "line": 18,
                "content": "",
                "highlighted": false
              },
              {
                "line": 19,
                "content": "  // ❌ Multiple operations without try-catch",
                "highlighted": false
              },
              {
                "line": 20,
                "content": "  await client.connect();",
                "highlighted": false
              },
              {
                "line": 21,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 22,
                "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
                "highlighted": false
              },
              {
                "line": 23,
                "content": "  await client.shutdown();",
                "highlighted": false
              },
              {
                "line": 24,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 25,
                "content": "",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 21,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "timeout",
          "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
          "code_snippet": {
            "startLine": 17,
            "endLine": 25,
            "lines": [
              {
                "line": 17,
                "content": "  });",
                "highlighted": false
              },
              {
                "line": 18,
                "content": "",
                "highlighted": false
              },
              {
                "line": 19,
                "content": "  // ❌ Multiple operations without try-catch",
                "highlighted": false
              },
              {
                "line": 20,
                "content": "  await client.connect();",
                "highlighted": false
              },
              {
                "line": 21,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 22,
                "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
                "highlighted": false
              },
              {
                "line": 23,
                "content": "  await client.shutdown();",
                "highlighted": false
              },
              {
                "line": 24,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 25,
                "content": "",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-write-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 21,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "write-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
          "code_snippet": {
            "startLine": 17,
            "endLine": 25,
            "lines": [
              {
                "line": 17,
                "content": "  });",
                "highlighted": false
              },
              {
                "line": 18,
                "content": "",
                "highlighted": false
              },
              {
                "line": 19,
                "content": "  // ❌ Multiple operations without try-catch",
                "highlighted": false
              },
              {
                "line": 20,
                "content": "  await client.connect();",
                "highlighted": false
              },
              {
                "line": 21,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 22,
                "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
                "highlighted": false
              },
              {
                "line": 23,
                "content": "  await client.shutdown();",
                "highlighted": false
              },
              {
                "line": 24,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 25,
                "content": "",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-read-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 21,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "read-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
          "code_snippet": {
            "startLine": 17,
            "endLine": 25,
            "lines": [
              {
                "line": 17,
                "content": "  });",
                "highlighted": false
              },
              {
                "line": 18,
                "content": "",
                "highlighted": false
              },
              {
                "line": 19,
                "content": "  // ❌ Multiple operations without try-catch",
                "highlighted": false
              },
              {
                "line": 20,
                "content": "  await client.connect();",
                "highlighted": false
              },
              {
                "line": 21,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 22,
                "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
                "highlighted": false
              },
              {
                "line": 23,
                "content": "  await client.shutdown();",
                "highlighted": false
              },
              {
                "line": 24,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 25,
                "content": "",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-overloaded",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 21,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "overloaded",
          "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
          "code_snippet": {
            "startLine": 17,
            "endLine": 25,
            "lines": [
              {
                "line": 17,
                "content": "  });",
                "highlighted": false
              },
              {
                "line": 18,
                "content": "",
                "highlighted": false
              },
              {
                "line": 19,
                "content": "  // ❌ Multiple operations without try-catch",
                "highlighted": false
              },
              {
                "line": 20,
                "content": "  await client.connect();",
                "highlighted": false
              },
              {
                "line": 21,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 22,
                "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
                "highlighted": false
              },
              {
                "line": 23,
                "content": "  await client.shutdown();",
                "highlighted": false
              },
              {
                "line": 24,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 25,
                "content": "",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-invalid-query",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 21,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "invalid-query",
          "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
          "code_snippet": {
            "startLine": 17,
            "endLine": 25,
            "lines": [
              {
                "line": 17,
                "content": "  });",
                "highlighted": false
              },
              {
                "line": 18,
                "content": "",
                "highlighted": false
              },
              {
                "line": 19,
                "content": "  // ❌ Multiple operations without try-catch",
                "highlighted": false
              },
              {
                "line": 20,
                "content": "  await client.connect();",
                "highlighted": false
              },
              {
                "line": 21,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 22,
                "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
                "highlighted": false
              },
              {
                "line": 23,
                "content": "  await client.shutdown();",
                "highlighted": false
              },
              {
                "line": 24,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 25,
                "content": "",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-syntax-error",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 22,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "syntax-error",
          "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
          "code_snippet": {
            "startLine": 18,
            "endLine": 26,
            "lines": [
              {
                "line": 18,
                "content": "",
                "highlighted": false
              },
              {
                "line": 19,
                "content": "  // ❌ Multiple operations without try-catch",
                "highlighted": false
              },
              {
                "line": 20,
                "content": "  await client.connect();",
                "highlighted": false
              },
              {
                "line": 21,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 22,
                "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
                "highlighted": true
              },
              {
                "line": 23,
                "content": "  await client.shutdown();",
                "highlighted": false
              },
              {
                "line": 24,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 25,
                "content": "",
                "highlighted": false
              },
              {
                "line": 26,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-unavailable",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 22,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "unavailable",
          "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
          "code_snippet": {
            "startLine": 18,
            "endLine": 26,
            "lines": [
              {
                "line": 18,
                "content": "",
                "highlighted": false
              },
              {
                "line": 19,
                "content": "  // ❌ Multiple operations without try-catch",
                "highlighted": false
              },
              {
                "line": 20,
                "content": "  await client.connect();",
                "highlighted": false
              },
              {
                "line": 21,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 22,
                "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
                "highlighted": true
              },
              {
                "line": 23,
                "content": "  await client.shutdown();",
                "highlighted": false
              },
              {
                "line": 24,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 25,
                "content": "",
                "highlighted": false
              },
              {
                "line": 26,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 22,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "timeout",
          "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
          "code_snippet": {
            "startLine": 18,
            "endLine": 26,
            "lines": [
              {
                "line": 18,
                "content": "",
                "highlighted": false
              },
              {
                "line": 19,
                "content": "  // ❌ Multiple operations without try-catch",
                "highlighted": false
              },
              {
                "line": 20,
                "content": "  await client.connect();",
                "highlighted": false
              },
              {
                "line": 21,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 22,
                "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
                "highlighted": true
              },
              {
                "line": 23,
                "content": "  await client.shutdown();",
                "highlighted": false
              },
              {
                "line": 24,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 25,
                "content": "",
                "highlighted": false
              },
              {
                "line": 26,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-write-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 22,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "write-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
          "code_snippet": {
            "startLine": 18,
            "endLine": 26,
            "lines": [
              {
                "line": 18,
                "content": "",
                "highlighted": false
              },
              {
                "line": 19,
                "content": "  // ❌ Multiple operations without try-catch",
                "highlighted": false
              },
              {
                "line": 20,
                "content": "  await client.connect();",
                "highlighted": false
              },
              {
                "line": 21,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 22,
                "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
                "highlighted": true
              },
              {
                "line": 23,
                "content": "  await client.shutdown();",
                "highlighted": false
              },
              {
                "line": 24,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 25,
                "content": "",
                "highlighted": false
              },
              {
                "line": 26,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-read-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 22,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "read-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
          "code_snippet": {
            "startLine": 18,
            "endLine": 26,
            "lines": [
              {
                "line": 18,
                "content": "",
                "highlighted": false
              },
              {
                "line": 19,
                "content": "  // ❌ Multiple operations without try-catch",
                "highlighted": false
              },
              {
                "line": 20,
                "content": "  await client.connect();",
                "highlighted": false
              },
              {
                "line": 21,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 22,
                "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
                "highlighted": true
              },
              {
                "line": 23,
                "content": "  await client.shutdown();",
                "highlighted": false
              },
              {
                "line": 24,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 25,
                "content": "",
                "highlighted": false
              },
              {
                "line": 26,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-overloaded",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 22,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "overloaded",
          "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
          "code_snippet": {
            "startLine": 18,
            "endLine": 26,
            "lines": [
              {
                "line": 18,
                "content": "",
                "highlighted": false
              },
              {
                "line": 19,
                "content": "  // ❌ Multiple operations without try-catch",
                "highlighted": false
              },
              {
                "line": 20,
                "content": "  await client.connect();",
                "highlighted": false
              },
              {
                "line": 21,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 22,
                "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
                "highlighted": true
              },
              {
                "line": 23,
                "content": "  await client.shutdown();",
                "highlighted": false
              },
              {
                "line": 24,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 25,
                "content": "",
                "highlighted": false
              },
              {
                "line": 26,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-invalid-query",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 22,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "invalid-query",
          "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
          "code_snippet": {
            "startLine": 18,
            "endLine": 26,
            "lines": [
              {
                "line": 18,
                "content": "",
                "highlighted": false
              },
              {
                "line": 19,
                "content": "  // ❌ Multiple operations without try-catch",
                "highlighted": false
              },
              {
                "line": 20,
                "content": "  await client.connect();",
                "highlighted": false
              },
              {
                "line": 21,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 22,
                "content": "  await client.execute('INSERT INTO users (id, name) VALUES (?, ?)', ['1', 'Alice']);",
                "highlighted": true
              },
              {
                "line": 23,
                "content": "  await client.shutdown();",
                "highlighted": false
              },
              {
                "line": 24,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 25,
                "content": "",
                "highlighted": false
              },
              {
                "line": 26,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-connection-failure",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 35,
          "column": 9,
          "package": "cassandra-driver",
          "function": "connect",
          "contract_clause": "connection-failure",
          "description": "No try-catch block found. NoHostAvailableError with details of failed contact points - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/getting-started/",
          "suggested_fix": "Caller MUST handle NoHostAvailableError. Common causes: - All nodes unreachable - Wrong contact points - Authentication failure Check error.innerErrors for details on each contact point. Implement retry with exponential backoff.\n",
          "code_snippet": {
            "startLine": 31,
            "endLine": 39,
            "lines": [
              {
                "line": 31,
                "content": "  const client1 = new Client({ contactPoints: ['host1'], localDataCenter: 'dc1' });",
                "highlighted": false
              },
              {
                "line": 32,
                "content": "  const client2 = new Client({ contactPoints: ['host2'], localDataCenter: 'dc2' });",
                "highlighted": false
              },
              {
                "line": 33,
                "content": "",
                "highlighted": false
              },
              {
                "line": 34,
                "content": "  // ❌ No try-catch for either client",
                "highlighted": false
              },
              {
                "line": 35,
                "content": "  await client1.connect();",
                "highlighted": true
              },
              {
                "line": 36,
                "content": "  await client2.connect();",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  await client1.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 39,
                "content": "  await client2.execute('SELECT * FROM products');",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-authentication-failure",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 35,
          "column": 9,
          "package": "cassandra-driver",
          "function": "connect",
          "contract_clause": "authentication-failure",
          "description": "No try-catch block found. AuthenticationError - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/auth/",
          "suggested_fix": "Caller MUST handle authentication errors. DO NOT retry with same credentials. Verify username/password in connection config.\n",
          "code_snippet": {
            "startLine": 31,
            "endLine": 39,
            "lines": [
              {
                "line": 31,
                "content": "  const client1 = new Client({ contactPoints: ['host1'], localDataCenter: 'dc1' });",
                "highlighted": false
              },
              {
                "line": 32,
                "content": "  const client2 = new Client({ contactPoints: ['host2'], localDataCenter: 'dc2' });",
                "highlighted": false
              },
              {
                "line": 33,
                "content": "",
                "highlighted": false
              },
              {
                "line": 34,
                "content": "  // ❌ No try-catch for either client",
                "highlighted": false
              },
              {
                "line": 35,
                "content": "  await client1.connect();",
                "highlighted": true
              },
              {
                "line": 36,
                "content": "  await client2.connect();",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  await client1.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 39,
                "content": "  await client2.execute('SELECT * FROM products');",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-connection-failure",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 36,
          "column": 9,
          "package": "cassandra-driver",
          "function": "connect",
          "contract_clause": "connection-failure",
          "description": "No try-catch block found. NoHostAvailableError with details of failed contact points - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/getting-started/",
          "suggested_fix": "Caller MUST handle NoHostAvailableError. Common causes: - All nodes unreachable - Wrong contact points - Authentication failure Check error.innerErrors for details on each contact point. Implement retry with exponential backoff.\n",
          "code_snippet": {
            "startLine": 32,
            "endLine": 40,
            "lines": [
              {
                "line": 32,
                "content": "  const client2 = new Client({ contactPoints: ['host2'], localDataCenter: 'dc2' });",
                "highlighted": false
              },
              {
                "line": 33,
                "content": "",
                "highlighted": false
              },
              {
                "line": 34,
                "content": "  // ❌ No try-catch for either client",
                "highlighted": false
              },
              {
                "line": 35,
                "content": "  await client1.connect();",
                "highlighted": false
              },
              {
                "line": 36,
                "content": "  await client2.connect();",
                "highlighted": true
              },
              {
                "line": 37,
                "content": "",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  await client1.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 39,
                "content": "  await client2.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 40,
                "content": "",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-authentication-failure",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 36,
          "column": 9,
          "package": "cassandra-driver",
          "function": "connect",
          "contract_clause": "authentication-failure",
          "description": "No try-catch block found. AuthenticationError - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/auth/",
          "suggested_fix": "Caller MUST handle authentication errors. DO NOT retry with same credentials. Verify username/password in connection config.\n",
          "code_snippet": {
            "startLine": 32,
            "endLine": 40,
            "lines": [
              {
                "line": 32,
                "content": "  const client2 = new Client({ contactPoints: ['host2'], localDataCenter: 'dc2' });",
                "highlighted": false
              },
              {
                "line": 33,
                "content": "",
                "highlighted": false
              },
              {
                "line": 34,
                "content": "  // ❌ No try-catch for either client",
                "highlighted": false
              },
              {
                "line": 35,
                "content": "  await client1.connect();",
                "highlighted": false
              },
              {
                "line": 36,
                "content": "  await client2.connect();",
                "highlighted": true
              },
              {
                "line": 37,
                "content": "",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  await client1.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 39,
                "content": "  await client2.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 40,
                "content": "",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-syntax-error",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 38,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "syntax-error",
          "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
          "code_snippet": {
            "startLine": 34,
            "endLine": 42,
            "lines": [
              {
                "line": 34,
                "content": "  // ❌ No try-catch for either client",
                "highlighted": false
              },
              {
                "line": 35,
                "content": "  await client1.connect();",
                "highlighted": false
              },
              {
                "line": 36,
                "content": "  await client2.connect();",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  await client1.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 39,
                "content": "  await client2.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 40,
                "content": "",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "  await client1.shutdown();",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "  await client2.shutdown();",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-unavailable",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 38,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "unavailable",
          "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
          "code_snippet": {
            "startLine": 34,
            "endLine": 42,
            "lines": [
              {
                "line": 34,
                "content": "  // ❌ No try-catch for either client",
                "highlighted": false
              },
              {
                "line": 35,
                "content": "  await client1.connect();",
                "highlighted": false
              },
              {
                "line": 36,
                "content": "  await client2.connect();",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  await client1.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 39,
                "content": "  await client2.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 40,
                "content": "",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "  await client1.shutdown();",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "  await client2.shutdown();",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 38,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "timeout",
          "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
          "code_snippet": {
            "startLine": 34,
            "endLine": 42,
            "lines": [
              {
                "line": 34,
                "content": "  // ❌ No try-catch for either client",
                "highlighted": false
              },
              {
                "line": 35,
                "content": "  await client1.connect();",
                "highlighted": false
              },
              {
                "line": 36,
                "content": "  await client2.connect();",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  await client1.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 39,
                "content": "  await client2.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 40,
                "content": "",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "  await client1.shutdown();",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "  await client2.shutdown();",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-write-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 38,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "write-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
          "code_snippet": {
            "startLine": 34,
            "endLine": 42,
            "lines": [
              {
                "line": 34,
                "content": "  // ❌ No try-catch for either client",
                "highlighted": false
              },
              {
                "line": 35,
                "content": "  await client1.connect();",
                "highlighted": false
              },
              {
                "line": 36,
                "content": "  await client2.connect();",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  await client1.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 39,
                "content": "  await client2.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 40,
                "content": "",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "  await client1.shutdown();",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "  await client2.shutdown();",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-read-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 38,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "read-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
          "code_snippet": {
            "startLine": 34,
            "endLine": 42,
            "lines": [
              {
                "line": 34,
                "content": "  // ❌ No try-catch for either client",
                "highlighted": false
              },
              {
                "line": 35,
                "content": "  await client1.connect();",
                "highlighted": false
              },
              {
                "line": 36,
                "content": "  await client2.connect();",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  await client1.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 39,
                "content": "  await client2.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 40,
                "content": "",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "  await client1.shutdown();",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "  await client2.shutdown();",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-overloaded",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 38,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "overloaded",
          "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
          "code_snippet": {
            "startLine": 34,
            "endLine": 42,
            "lines": [
              {
                "line": 34,
                "content": "  // ❌ No try-catch for either client",
                "highlighted": false
              },
              {
                "line": 35,
                "content": "  await client1.connect();",
                "highlighted": false
              },
              {
                "line": 36,
                "content": "  await client2.connect();",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  await client1.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 39,
                "content": "  await client2.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 40,
                "content": "",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "  await client1.shutdown();",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "  await client2.shutdown();",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-invalid-query",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 38,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "invalid-query",
          "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
          "code_snippet": {
            "startLine": 34,
            "endLine": 42,
            "lines": [
              {
                "line": 34,
                "content": "  // ❌ No try-catch for either client",
                "highlighted": false
              },
              {
                "line": 35,
                "content": "  await client1.connect();",
                "highlighted": false
              },
              {
                "line": 36,
                "content": "  await client2.connect();",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  await client1.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 39,
                "content": "  await client2.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 40,
                "content": "",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "  await client1.shutdown();",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "  await client2.shutdown();",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-syntax-error",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 39,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "syntax-error",
          "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
          "code_snippet": {
            "startLine": 35,
            "endLine": 43,
            "lines": [
              {
                "line": 35,
                "content": "  await client1.connect();",
                "highlighted": false
              },
              {
                "line": 36,
                "content": "  await client2.connect();",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  await client1.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 39,
                "content": "  await client2.execute('SELECT * FROM products');",
                "highlighted": true
              },
              {
                "line": 40,
                "content": "",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "  await client1.shutdown();",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "  await client2.shutdown();",
                "highlighted": false
              },
              {
                "line": 43,
                "content": "}",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-unavailable",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 39,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "unavailable",
          "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
          "code_snippet": {
            "startLine": 35,
            "endLine": 43,
            "lines": [
              {
                "line": 35,
                "content": "  await client1.connect();",
                "highlighted": false
              },
              {
                "line": 36,
                "content": "  await client2.connect();",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  await client1.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 39,
                "content": "  await client2.execute('SELECT * FROM products');",
                "highlighted": true
              },
              {
                "line": 40,
                "content": "",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "  await client1.shutdown();",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "  await client2.shutdown();",
                "highlighted": false
              },
              {
                "line": 43,
                "content": "}",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 39,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "timeout",
          "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
          "code_snippet": {
            "startLine": 35,
            "endLine": 43,
            "lines": [
              {
                "line": 35,
                "content": "  await client1.connect();",
                "highlighted": false
              },
              {
                "line": 36,
                "content": "  await client2.connect();",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  await client1.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 39,
                "content": "  await client2.execute('SELECT * FROM products');",
                "highlighted": true
              },
              {
                "line": 40,
                "content": "",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "  await client1.shutdown();",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "  await client2.shutdown();",
                "highlighted": false
              },
              {
                "line": 43,
                "content": "}",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-write-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 39,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "write-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
          "code_snippet": {
            "startLine": 35,
            "endLine": 43,
            "lines": [
              {
                "line": 35,
                "content": "  await client1.connect();",
                "highlighted": false
              },
              {
                "line": 36,
                "content": "  await client2.connect();",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  await client1.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 39,
                "content": "  await client2.execute('SELECT * FROM products');",
                "highlighted": true
              },
              {
                "line": 40,
                "content": "",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "  await client1.shutdown();",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "  await client2.shutdown();",
                "highlighted": false
              },
              {
                "line": 43,
                "content": "}",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-read-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 39,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "read-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
          "code_snippet": {
            "startLine": 35,
            "endLine": 43,
            "lines": [
              {
                "line": 35,
                "content": "  await client1.connect();",
                "highlighted": false
              },
              {
                "line": 36,
                "content": "  await client2.connect();",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  await client1.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 39,
                "content": "  await client2.execute('SELECT * FROM products');",
                "highlighted": true
              },
              {
                "line": 40,
                "content": "",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "  await client1.shutdown();",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "  await client2.shutdown();",
                "highlighted": false
              },
              {
                "line": 43,
                "content": "}",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-overloaded",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 39,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "overloaded",
          "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
          "code_snippet": {
            "startLine": 35,
            "endLine": 43,
            "lines": [
              {
                "line": 35,
                "content": "  await client1.connect();",
                "highlighted": false
              },
              {
                "line": 36,
                "content": "  await client2.connect();",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  await client1.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 39,
                "content": "  await client2.execute('SELECT * FROM products');",
                "highlighted": true
              },
              {
                "line": 40,
                "content": "",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "  await client1.shutdown();",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "  await client2.shutdown();",
                "highlighted": false
              },
              {
                "line": 43,
                "content": "}",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-invalid-query",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 39,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "invalid-query",
          "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
          "code_snippet": {
            "startLine": 35,
            "endLine": 43,
            "lines": [
              {
                "line": 35,
                "content": "  await client1.connect();",
                "highlighted": false
              },
              {
                "line": 36,
                "content": "  await client2.connect();",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  await client1.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 39,
                "content": "  await client2.execute('SELECT * FROM products');",
                "highlighted": true
              },
              {
                "line": 40,
                "content": "",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "  await client1.shutdown();",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "  await client2.shutdown();",
                "highlighted": false
              },
              {
                "line": 43,
                "content": "}",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-connection-failure",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 55,
          "column": 9,
          "package": "cassandra-driver",
          "function": "connect",
          "contract_clause": "connection-failure",
          "description": "No try-catch block found. NoHostAvailableError with details of failed contact points - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/getting-started/",
          "suggested_fix": "Caller MUST handle NoHostAvailableError. Common causes: - All nodes unreachable - Wrong contact points - Authentication failure Check error.innerErrors for details on each contact point. Implement retry with exponential backoff.\n",
          "code_snippet": {
            "startLine": 51,
            "endLine": 59,
            "lines": [
              {
                "line": 51,
                "content": "    contactPoints: ['localhost'],",
                "highlighted": false
              },
              {
                "line": 52,
                "content": "    localDataCenter: 'datacenter1'",
                "highlighted": false
              },
              {
                "line": 53,
                "content": "  });",
                "highlighted": false
              },
              {
                "line": 54,
                "content": "",
                "highlighted": false
              },
              {
                "line": 55,
                "content": "  await client.connect();",
                "highlighted": true
              },
              {
                "line": 56,
                "content": "",
                "highlighted": false
              },
              {
                "line": 57,
                "content": "  const queries = [",
                "highlighted": false
              },
              {
                "line": 58,
                "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['1', 'Alice'] },",
                "highlighted": false
              },
              {
                "line": 59,
                "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['2', 'Bob'] }",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-authentication-failure",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 55,
          "column": 9,
          "package": "cassandra-driver",
          "function": "connect",
          "contract_clause": "authentication-failure",
          "description": "No try-catch block found. AuthenticationError - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/auth/",
          "suggested_fix": "Caller MUST handle authentication errors. DO NOT retry with same credentials. Verify username/password in connection config.\n",
          "code_snippet": {
            "startLine": 51,
            "endLine": 59,
            "lines": [
              {
                "line": 51,
                "content": "    contactPoints: ['localhost'],",
                "highlighted": false
              },
              {
                "line": 52,
                "content": "    localDataCenter: 'datacenter1'",
                "highlighted": false
              },
              {
                "line": 53,
                "content": "  });",
                "highlighted": false
              },
              {
                "line": 54,
                "content": "",
                "highlighted": false
              },
              {
                "line": 55,
                "content": "  await client.connect();",
                "highlighted": true
              },
              {
                "line": 56,
                "content": "",
                "highlighted": false
              },
              {
                "line": 57,
                "content": "  const queries = [",
                "highlighted": false
              },
              {
                "line": 58,
                "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['1', 'Alice'] },",
                "highlighted": false
              },
              {
                "line": 59,
                "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['2', 'Bob'] }",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-batch-failure",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 63,
          "column": 9,
          "package": "cassandra-driver",
          "function": "batch",
          "contract_clause": "batch-failure",
          "description": "No try-catch block found. ResponseError with details of failure - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/batch/",
          "suggested_fix": "Caller MUST handle batch errors. Entire batch fails if any statement fails. Check error code to determine failure reason. Note: Cassandra batches are NOT transactions across partitions.\n",
          "code_snippet": {
            "startLine": 59,
            "endLine": 67,
            "lines": [
              {
                "line": 59,
                "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['2', 'Bob'] }",
                "highlighted": false
              },
              {
                "line": 60,
                "content": "  ];",
                "highlighted": false
              },
              {
                "line": 61,
                "content": "",
                "highlighted": false
              },
              {
                "line": 62,
                "content": "  // ❌ No try-catch",
                "highlighted": false
              },
              {
                "line": 63,
                "content": "  await client.batch(queries, { prepare: true });",
                "highlighted": true
              },
              {
                "line": 64,
                "content": "",
                "highlighted": false
              },
              {
                "line": 65,
                "content": "  await client.shutdown();",
                "highlighted": false
              },
              {
                "line": 66,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 67,
                "content": "",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-write-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/instance-usage.ts",
          "line": 63,
          "column": 9,
          "package": "cassandra-driver",
          "function": "batch",
          "contract_clause": "write-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/batch/",
          "suggested_fix": "Caller MUST handle batch write timeouts. Batch may be partially applied (non-atomic across partitions). Implement idempotent retry logic.\n",
          "code_snippet": {
            "startLine": 59,
            "endLine": 67,
            "lines": [
              {
                "line": 59,
                "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['2', 'Bob'] }",
                "highlighted": false
              },
              {
                "line": 60,
                "content": "  ];",
                "highlighted": false
              },
              {
                "line": 61,
                "content": "",
                "highlighted": false
              },
              {
                "line": 62,
                "content": "  // ❌ No try-catch",
                "highlighted": false
              },
              {
                "line": 63,
                "content": "  await client.batch(queries, { prepare: true });",
                "highlighted": true
              },
              {
                "line": 64,
                "content": "",
                "highlighted": false
              },
              {
                "line": 65,
                "content": "  await client.shutdown();",
                "highlighted": false
              },
              {
                "line": 66,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 67,
                "content": "",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-connection-failure",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 20,
          "column": 9,
          "package": "cassandra-driver",
          "function": "connect",
          "contract_clause": "connection-failure",
          "description": "No try-catch block found. NoHostAvailableError with details of failed contact points - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/getting-started/",
          "suggested_fix": "Caller MUST handle NoHostAvailableError. Common causes: - All nodes unreachable - Wrong contact points - Authentication failure Check error.innerErrors for details on each contact point. Implement retry with exponential backoff.\n",
          "code_snippet": {
            "startLine": 16,
            "endLine": 24,
            "lines": [
              {
                "line": 16,
                "content": "    contactPoints: ['localhost'],",
                "highlighted": false
              },
              {
                "line": 17,
                "content": "    localDataCenter: 'datacenter1'",
                "highlighted": false
              },
              {
                "line": 18,
                "content": "  });",
                "highlighted": false
              },
              {
                "line": 19,
                "content": "",
                "highlighted": false
              },
              {
                "line": 20,
                "content": "  await client.connect();",
                "highlighted": true
              },
              {
                "line": 21,
                "content": "  return client;",
                "highlighted": false
              },
              {
                "line": 22,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 23,
                "content": "",
                "highlighted": false
              },
              {
                "line": 24,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-authentication-failure",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 20,
          "column": 9,
          "package": "cassandra-driver",
          "function": "connect",
          "contract_clause": "authentication-failure",
          "description": "No try-catch block found. AuthenticationError - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/auth/",
          "suggested_fix": "Caller MUST handle authentication errors. DO NOT retry with same credentials. Verify username/password in connection config.\n",
          "code_snippet": {
            "startLine": 16,
            "endLine": 24,
            "lines": [
              {
                "line": 16,
                "content": "    contactPoints: ['localhost'],",
                "highlighted": false
              },
              {
                "line": 17,
                "content": "    localDataCenter: 'datacenter1'",
                "highlighted": false
              },
              {
                "line": 18,
                "content": "  });",
                "highlighted": false
              },
              {
                "line": 19,
                "content": "",
                "highlighted": false
              },
              {
                "line": 20,
                "content": "  await client.connect();",
                "highlighted": true
              },
              {
                "line": 21,
                "content": "  return client;",
                "highlighted": false
              },
              {
                "line": 22,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 23,
                "content": "",
                "highlighted": false
              },
              {
                "line": 24,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-syntax-error",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 29,
          "column": 24,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "syntax-error",
          "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
          "code_snippet": {
            "startLine": 25,
            "endLine": 33,
            "lines": [
              {
                "line": 25,
                "content": " * ❌ Missing try-catch for execute",
                "highlighted": false
              },
              {
                "line": 26,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 27,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 28,
                "content": "async function executeWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 29,
                "content": "  const result = await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 30,
                "content": "  return result.rows;",
                "highlighted": false
              },
              {
                "line": 31,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 32,
                "content": "",
                "highlighted": false
              },
              {
                "line": 33,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-unavailable",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 29,
          "column": 24,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "unavailable",
          "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
          "code_snippet": {
            "startLine": 25,
            "endLine": 33,
            "lines": [
              {
                "line": 25,
                "content": " * ❌ Missing try-catch for execute",
                "highlighted": false
              },
              {
                "line": 26,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 27,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 28,
                "content": "async function executeWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 29,
                "content": "  const result = await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 30,
                "content": "  return result.rows;",
                "highlighted": false
              },
              {
                "line": 31,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 32,
                "content": "",
                "highlighted": false
              },
              {
                "line": 33,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 29,
          "column": 24,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "timeout",
          "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
          "code_snippet": {
            "startLine": 25,
            "endLine": 33,
            "lines": [
              {
                "line": 25,
                "content": " * ❌ Missing try-catch for execute",
                "highlighted": false
              },
              {
                "line": 26,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 27,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 28,
                "content": "async function executeWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 29,
                "content": "  const result = await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 30,
                "content": "  return result.rows;",
                "highlighted": false
              },
              {
                "line": 31,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 32,
                "content": "",
                "highlighted": false
              },
              {
                "line": 33,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-write-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 29,
          "column": 24,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "write-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
          "code_snippet": {
            "startLine": 25,
            "endLine": 33,
            "lines": [
              {
                "line": 25,
                "content": " * ❌ Missing try-catch for execute",
                "highlighted": false
              },
              {
                "line": 26,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 27,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 28,
                "content": "async function executeWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 29,
                "content": "  const result = await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 30,
                "content": "  return result.rows;",
                "highlighted": false
              },
              {
                "line": 31,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 32,
                "content": "",
                "highlighted": false
              },
              {
                "line": 33,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-read-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 29,
          "column": 24,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "read-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
          "code_snippet": {
            "startLine": 25,
            "endLine": 33,
            "lines": [
              {
                "line": 25,
                "content": " * ❌ Missing try-catch for execute",
                "highlighted": false
              },
              {
                "line": 26,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 27,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 28,
                "content": "async function executeWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 29,
                "content": "  const result = await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 30,
                "content": "  return result.rows;",
                "highlighted": false
              },
              {
                "line": 31,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 32,
                "content": "",
                "highlighted": false
              },
              {
                "line": 33,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-overloaded",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 29,
          "column": 24,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "overloaded",
          "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
          "code_snippet": {
            "startLine": 25,
            "endLine": 33,
            "lines": [
              {
                "line": 25,
                "content": " * ❌ Missing try-catch for execute",
                "highlighted": false
              },
              {
                "line": 26,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 27,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 28,
                "content": "async function executeWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 29,
                "content": "  const result = await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 30,
                "content": "  return result.rows;",
                "highlighted": false
              },
              {
                "line": 31,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 32,
                "content": "",
                "highlighted": false
              },
              {
                "line": 33,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-invalid-query",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 29,
          "column": 24,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "invalid-query",
          "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
          "code_snippet": {
            "startLine": 25,
            "endLine": 33,
            "lines": [
              {
                "line": 25,
                "content": " * ❌ Missing try-catch for execute",
                "highlighted": false
              },
              {
                "line": 26,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 27,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 28,
                "content": "async function executeWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 29,
                "content": "  const result = await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 30,
                "content": "  return result.rows;",
                "highlighted": false
              },
              {
                "line": 31,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 32,
                "content": "",
                "highlighted": false
              },
              {
                "line": 33,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-syntax-error",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 39,
          "column": 24,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "syntax-error",
          "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
          "code_snippet": {
            "startLine": 35,
            "endLine": 43,
            "lines": [
              {
                "line": 35,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 36,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "async function parameterizedQueryWithoutErrorHandling(client: Client, userId: string) {",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  const query = 'SELECT * FROM users WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 39,
                "content": "  const result = await client.execute(query, [userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 40,
                "content": "  return result.rows[0];",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "",
                "highlighted": false
              },
              {
                "line": 43,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-unavailable",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 39,
          "column": 24,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "unavailable",
          "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
          "code_snippet": {
            "startLine": 35,
            "endLine": 43,
            "lines": [
              {
                "line": 35,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 36,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "async function parameterizedQueryWithoutErrorHandling(client: Client, userId: string) {",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  const query = 'SELECT * FROM users WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 39,
                "content": "  const result = await client.execute(query, [userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 40,
                "content": "  return result.rows[0];",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "",
                "highlighted": false
              },
              {
                "line": 43,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 39,
          "column": 24,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "timeout",
          "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
          "code_snippet": {
            "startLine": 35,
            "endLine": 43,
            "lines": [
              {
                "line": 35,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 36,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "async function parameterizedQueryWithoutErrorHandling(client: Client, userId: string) {",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  const query = 'SELECT * FROM users WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 39,
                "content": "  const result = await client.execute(query, [userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 40,
                "content": "  return result.rows[0];",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "",
                "highlighted": false
              },
              {
                "line": 43,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-write-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 39,
          "column": 24,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "write-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
          "code_snippet": {
            "startLine": 35,
            "endLine": 43,
            "lines": [
              {
                "line": 35,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 36,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "async function parameterizedQueryWithoutErrorHandling(client: Client, userId: string) {",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  const query = 'SELECT * FROM users WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 39,
                "content": "  const result = await client.execute(query, [userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 40,
                "content": "  return result.rows[0];",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "",
                "highlighted": false
              },
              {
                "line": 43,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-read-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 39,
          "column": 24,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "read-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
          "code_snippet": {
            "startLine": 35,
            "endLine": 43,
            "lines": [
              {
                "line": 35,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 36,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "async function parameterizedQueryWithoutErrorHandling(client: Client, userId: string) {",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  const query = 'SELECT * FROM users WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 39,
                "content": "  const result = await client.execute(query, [userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 40,
                "content": "  return result.rows[0];",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "",
                "highlighted": false
              },
              {
                "line": 43,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-overloaded",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 39,
          "column": 24,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "overloaded",
          "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
          "code_snippet": {
            "startLine": 35,
            "endLine": 43,
            "lines": [
              {
                "line": 35,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 36,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "async function parameterizedQueryWithoutErrorHandling(client: Client, userId: string) {",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  const query = 'SELECT * FROM users WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 39,
                "content": "  const result = await client.execute(query, [userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 40,
                "content": "  return result.rows[0];",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "",
                "highlighted": false
              },
              {
                "line": 43,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-invalid-query",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 39,
          "column": 24,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "invalid-query",
          "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
          "code_snippet": {
            "startLine": 35,
            "endLine": 43,
            "lines": [
              {
                "line": 35,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 36,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 37,
                "content": "async function parameterizedQueryWithoutErrorHandling(client: Client, userId: string) {",
                "highlighted": false
              },
              {
                "line": 38,
                "content": "  const query = 'SELECT * FROM users WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 39,
                "content": "  const result = await client.execute(query, [userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 40,
                "content": "  return result.rows[0];",
                "highlighted": false
              },
              {
                "line": 41,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 42,
                "content": "",
                "highlighted": false
              },
              {
                "line": 43,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-syntax-error",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 49,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "syntax-error",
          "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
          "code_snippet": {
            "startLine": 45,
            "endLine": 53,
            "lines": [
              {
                "line": 45,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 46,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 47,
                "content": "async function insertWithoutErrorHandling(client: Client, id: string, name: string) {",
                "highlighted": false
              },
              {
                "line": 48,
                "content": "  const query = 'INSERT INTO users (id, name) VALUES (?, ?)';",
                "highlighted": false
              },
              {
                "line": 49,
                "content": "  await client.execute(query, [id, name], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 50,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 51,
                "content": "",
                "highlighted": false
              },
              {
                "line": 52,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 53,
                "content": " * ❌ Missing try-catch for UPDATE",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-unavailable",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 49,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "unavailable",
          "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
          "code_snippet": {
            "startLine": 45,
            "endLine": 53,
            "lines": [
              {
                "line": 45,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 46,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 47,
                "content": "async function insertWithoutErrorHandling(client: Client, id: string, name: string) {",
                "highlighted": false
              },
              {
                "line": 48,
                "content": "  const query = 'INSERT INTO users (id, name) VALUES (?, ?)';",
                "highlighted": false
              },
              {
                "line": 49,
                "content": "  await client.execute(query, [id, name], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 50,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 51,
                "content": "",
                "highlighted": false
              },
              {
                "line": 52,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 53,
                "content": " * ❌ Missing try-catch for UPDATE",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 49,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "timeout",
          "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
          "code_snippet": {
            "startLine": 45,
            "endLine": 53,
            "lines": [
              {
                "line": 45,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 46,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 47,
                "content": "async function insertWithoutErrorHandling(client: Client, id: string, name: string) {",
                "highlighted": false
              },
              {
                "line": 48,
                "content": "  const query = 'INSERT INTO users (id, name) VALUES (?, ?)';",
                "highlighted": false
              },
              {
                "line": 49,
                "content": "  await client.execute(query, [id, name], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 50,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 51,
                "content": "",
                "highlighted": false
              },
              {
                "line": 52,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 53,
                "content": " * ❌ Missing try-catch for UPDATE",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-write-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 49,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "write-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
          "code_snippet": {
            "startLine": 45,
            "endLine": 53,
            "lines": [
              {
                "line": 45,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 46,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 47,
                "content": "async function insertWithoutErrorHandling(client: Client, id: string, name: string) {",
                "highlighted": false
              },
              {
                "line": 48,
                "content": "  const query = 'INSERT INTO users (id, name) VALUES (?, ?)';",
                "highlighted": false
              },
              {
                "line": 49,
                "content": "  await client.execute(query, [id, name], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 50,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 51,
                "content": "",
                "highlighted": false
              },
              {
                "line": 52,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 53,
                "content": " * ❌ Missing try-catch for UPDATE",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-read-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 49,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "read-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
          "code_snippet": {
            "startLine": 45,
            "endLine": 53,
            "lines": [
              {
                "line": 45,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 46,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 47,
                "content": "async function insertWithoutErrorHandling(client: Client, id: string, name: string) {",
                "highlighted": false
              },
              {
                "line": 48,
                "content": "  const query = 'INSERT INTO users (id, name) VALUES (?, ?)';",
                "highlighted": false
              },
              {
                "line": 49,
                "content": "  await client.execute(query, [id, name], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 50,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 51,
                "content": "",
                "highlighted": false
              },
              {
                "line": 52,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 53,
                "content": " * ❌ Missing try-catch for UPDATE",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-overloaded",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 49,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "overloaded",
          "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
          "code_snippet": {
            "startLine": 45,
            "endLine": 53,
            "lines": [
              {
                "line": 45,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 46,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 47,
                "content": "async function insertWithoutErrorHandling(client: Client, id: string, name: string) {",
                "highlighted": false
              },
              {
                "line": 48,
                "content": "  const query = 'INSERT INTO users (id, name) VALUES (?, ?)';",
                "highlighted": false
              },
              {
                "line": 49,
                "content": "  await client.execute(query, [id, name], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 50,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 51,
                "content": "",
                "highlighted": false
              },
              {
                "line": 52,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 53,
                "content": " * ❌ Missing try-catch for UPDATE",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-invalid-query",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 49,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "invalid-query",
          "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
          "code_snippet": {
            "startLine": 45,
            "endLine": 53,
            "lines": [
              {
                "line": 45,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 46,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 47,
                "content": "async function insertWithoutErrorHandling(client: Client, id: string, name: string) {",
                "highlighted": false
              },
              {
                "line": 48,
                "content": "  const query = 'INSERT INTO users (id, name) VALUES (?, ?)';",
                "highlighted": false
              },
              {
                "line": 49,
                "content": "  await client.execute(query, [id, name], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 50,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 51,
                "content": "",
                "highlighted": false
              },
              {
                "line": 52,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 53,
                "content": " * ❌ Missing try-catch for UPDATE",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-syntax-error",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 58,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "syntax-error",
          "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
          "code_snippet": {
            "startLine": 54,
            "endLine": 62,
            "lines": [
              {
                "line": 54,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 55,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 56,
                "content": "async function updateWithoutErrorHandling(client: Client, userId: string, name: string) {",
                "highlighted": false
              },
              {
                "line": 57,
                "content": "  const query = 'UPDATE users SET name = ? WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 58,
                "content": "  await client.execute(query, [name, userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 59,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 60,
                "content": "",
                "highlighted": false
              },
              {
                "line": 61,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 62,
                "content": " * ❌ Missing try-catch for DELETE",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-unavailable",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 58,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "unavailable",
          "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
          "code_snippet": {
            "startLine": 54,
            "endLine": 62,
            "lines": [
              {
                "line": 54,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 55,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 56,
                "content": "async function updateWithoutErrorHandling(client: Client, userId: string, name: string) {",
                "highlighted": false
              },
              {
                "line": 57,
                "content": "  const query = 'UPDATE users SET name = ? WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 58,
                "content": "  await client.execute(query, [name, userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 59,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 60,
                "content": "",
                "highlighted": false
              },
              {
                "line": 61,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 62,
                "content": " * ❌ Missing try-catch for DELETE",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 58,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "timeout",
          "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
          "code_snippet": {
            "startLine": 54,
            "endLine": 62,
            "lines": [
              {
                "line": 54,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 55,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 56,
                "content": "async function updateWithoutErrorHandling(client: Client, userId: string, name: string) {",
                "highlighted": false
              },
              {
                "line": 57,
                "content": "  const query = 'UPDATE users SET name = ? WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 58,
                "content": "  await client.execute(query, [name, userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 59,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 60,
                "content": "",
                "highlighted": false
              },
              {
                "line": 61,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 62,
                "content": " * ❌ Missing try-catch for DELETE",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-write-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 58,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "write-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
          "code_snippet": {
            "startLine": 54,
            "endLine": 62,
            "lines": [
              {
                "line": 54,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 55,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 56,
                "content": "async function updateWithoutErrorHandling(client: Client, userId: string, name: string) {",
                "highlighted": false
              },
              {
                "line": 57,
                "content": "  const query = 'UPDATE users SET name = ? WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 58,
                "content": "  await client.execute(query, [name, userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 59,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 60,
                "content": "",
                "highlighted": false
              },
              {
                "line": 61,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 62,
                "content": " * ❌ Missing try-catch for DELETE",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-read-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 58,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "read-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
          "code_snippet": {
            "startLine": 54,
            "endLine": 62,
            "lines": [
              {
                "line": 54,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 55,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 56,
                "content": "async function updateWithoutErrorHandling(client: Client, userId: string, name: string) {",
                "highlighted": false
              },
              {
                "line": 57,
                "content": "  const query = 'UPDATE users SET name = ? WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 58,
                "content": "  await client.execute(query, [name, userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 59,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 60,
                "content": "",
                "highlighted": false
              },
              {
                "line": 61,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 62,
                "content": " * ❌ Missing try-catch for DELETE",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-overloaded",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 58,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "overloaded",
          "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
          "code_snippet": {
            "startLine": 54,
            "endLine": 62,
            "lines": [
              {
                "line": 54,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 55,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 56,
                "content": "async function updateWithoutErrorHandling(client: Client, userId: string, name: string) {",
                "highlighted": false
              },
              {
                "line": 57,
                "content": "  const query = 'UPDATE users SET name = ? WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 58,
                "content": "  await client.execute(query, [name, userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 59,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 60,
                "content": "",
                "highlighted": false
              },
              {
                "line": 61,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 62,
                "content": " * ❌ Missing try-catch for DELETE",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-invalid-query",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 58,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "invalid-query",
          "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
          "code_snippet": {
            "startLine": 54,
            "endLine": 62,
            "lines": [
              {
                "line": 54,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 55,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 56,
                "content": "async function updateWithoutErrorHandling(client: Client, userId: string, name: string) {",
                "highlighted": false
              },
              {
                "line": 57,
                "content": "  const query = 'UPDATE users SET name = ? WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 58,
                "content": "  await client.execute(query, [name, userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 59,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 60,
                "content": "",
                "highlighted": false
              },
              {
                "line": 61,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 62,
                "content": " * ❌ Missing try-catch for DELETE",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-syntax-error",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 67,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "syntax-error",
          "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
          "code_snippet": {
            "startLine": 63,
            "endLine": 71,
            "lines": [
              {
                "line": 63,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 64,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 65,
                "content": "async function deleteWithoutErrorHandling(client: Client, userId: string) {",
                "highlighted": false
              },
              {
                "line": 66,
                "content": "  const query = 'DELETE FROM users WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 67,
                "content": "  await client.execute(query, [userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 68,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 69,
                "content": "",
                "highlighted": false
              },
              {
                "line": 70,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 71,
                "content": " * ❌ Missing try-catch for batch operations",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-unavailable",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 67,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "unavailable",
          "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
          "code_snippet": {
            "startLine": 63,
            "endLine": 71,
            "lines": [
              {
                "line": 63,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 64,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 65,
                "content": "async function deleteWithoutErrorHandling(client: Client, userId: string) {",
                "highlighted": false
              },
              {
                "line": 66,
                "content": "  const query = 'DELETE FROM users WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 67,
                "content": "  await client.execute(query, [userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 68,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 69,
                "content": "",
                "highlighted": false
              },
              {
                "line": 70,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 71,
                "content": " * ❌ Missing try-catch for batch operations",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 67,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "timeout",
          "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
          "code_snippet": {
            "startLine": 63,
            "endLine": 71,
            "lines": [
              {
                "line": 63,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 64,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 65,
                "content": "async function deleteWithoutErrorHandling(client: Client, userId: string) {",
                "highlighted": false
              },
              {
                "line": 66,
                "content": "  const query = 'DELETE FROM users WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 67,
                "content": "  await client.execute(query, [userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 68,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 69,
                "content": "",
                "highlighted": false
              },
              {
                "line": 70,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 71,
                "content": " * ❌ Missing try-catch for batch operations",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-write-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 67,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "write-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
          "code_snippet": {
            "startLine": 63,
            "endLine": 71,
            "lines": [
              {
                "line": 63,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 64,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 65,
                "content": "async function deleteWithoutErrorHandling(client: Client, userId: string) {",
                "highlighted": false
              },
              {
                "line": 66,
                "content": "  const query = 'DELETE FROM users WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 67,
                "content": "  await client.execute(query, [userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 68,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 69,
                "content": "",
                "highlighted": false
              },
              {
                "line": 70,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 71,
                "content": " * ❌ Missing try-catch for batch operations",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-read-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 67,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "read-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
          "code_snippet": {
            "startLine": 63,
            "endLine": 71,
            "lines": [
              {
                "line": 63,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 64,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 65,
                "content": "async function deleteWithoutErrorHandling(client: Client, userId: string) {",
                "highlighted": false
              },
              {
                "line": 66,
                "content": "  const query = 'DELETE FROM users WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 67,
                "content": "  await client.execute(query, [userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 68,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 69,
                "content": "",
                "highlighted": false
              },
              {
                "line": 70,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 71,
                "content": " * ❌ Missing try-catch for batch operations",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-overloaded",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 67,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "overloaded",
          "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
          "code_snippet": {
            "startLine": 63,
            "endLine": 71,
            "lines": [
              {
                "line": 63,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 64,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 65,
                "content": "async function deleteWithoutErrorHandling(client: Client, userId: string) {",
                "highlighted": false
              },
              {
                "line": 66,
                "content": "  const query = 'DELETE FROM users WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 67,
                "content": "  await client.execute(query, [userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 68,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 69,
                "content": "",
                "highlighted": false
              },
              {
                "line": 70,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 71,
                "content": " * ❌ Missing try-catch for batch operations",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-invalid-query",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 67,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "invalid-query",
          "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
          "code_snippet": {
            "startLine": 63,
            "endLine": 71,
            "lines": [
              {
                "line": 63,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 64,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 65,
                "content": "async function deleteWithoutErrorHandling(client: Client, userId: string) {",
                "highlighted": false
              },
              {
                "line": 66,
                "content": "  const query = 'DELETE FROM users WHERE id = ?';",
                "highlighted": false
              },
              {
                "line": 67,
                "content": "  await client.execute(query, [userId], { prepare: true });",
                "highlighted": true
              },
              {
                "line": 68,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 69,
                "content": "",
                "highlighted": false
              },
              {
                "line": 70,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 71,
                "content": " * ❌ Missing try-catch for batch operations",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-batch-failure",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 80,
          "column": 9,
          "package": "cassandra-driver",
          "function": "batch",
          "contract_clause": "batch-failure",
          "description": "No try-catch block found. ResponseError with details of failure - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/batch/",
          "suggested_fix": "Caller MUST handle batch errors. Entire batch fails if any statement fails. Check error code to determine failure reason. Note: Cassandra batches are NOT transactions across partitions.\n",
          "code_snippet": {
            "startLine": 76,
            "endLine": 84,
            "lines": [
              {
                "line": 76,
                "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['1', 'Alice'] },",
                "highlighted": false
              },
              {
                "line": 77,
                "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['2', 'Bob'] }",
                "highlighted": false
              },
              {
                "line": 78,
                "content": "  ];",
                "highlighted": false
              },
              {
                "line": 79,
                "content": "",
                "highlighted": false
              },
              {
                "line": 80,
                "content": "  await client.batch(queries, { prepare: true });",
                "highlighted": true
              },
              {
                "line": 81,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 82,
                "content": "",
                "highlighted": false
              },
              {
                "line": 83,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 84,
                "content": " * ❌ Missing try-catch for multiple queries",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-write-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 80,
          "column": 9,
          "package": "cassandra-driver",
          "function": "batch",
          "contract_clause": "write-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/batch/",
          "suggested_fix": "Caller MUST handle batch write timeouts. Batch may be partially applied (non-atomic across partitions). Implement idempotent retry logic.\n",
          "code_snippet": {
            "startLine": 76,
            "endLine": 84,
            "lines": [
              {
                "line": 76,
                "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['1', 'Alice'] },",
                "highlighted": false
              },
              {
                "line": 77,
                "content": "    { query: 'INSERT INTO users (id, name) VALUES (?, ?)', params: ['2', 'Bob'] }",
                "highlighted": false
              },
              {
                "line": 78,
                "content": "  ];",
                "highlighted": false
              },
              {
                "line": 79,
                "content": "",
                "highlighted": false
              },
              {
                "line": 80,
                "content": "  await client.batch(queries, { prepare: true });",
                "highlighted": true
              },
              {
                "line": 81,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 82,
                "content": "",
                "highlighted": false
              },
              {
                "line": 83,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 84,
                "content": " * ❌ Missing try-catch for multiple queries",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-syntax-error",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 88,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "syntax-error",
          "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
          "code_snippet": {
            "startLine": 84,
            "endLine": 92,
            "lines": [
              {
                "line": 84,
                "content": " * ❌ Missing try-catch for multiple queries",
                "highlighted": false
              },
              {
                "line": 85,
                "content": " * Should trigger ERROR violations",
                "highlighted": false
              },
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": false
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-unavailable",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 88,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "unavailable",
          "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
          "code_snippet": {
            "startLine": 84,
            "endLine": 92,
            "lines": [
              {
                "line": 84,
                "content": " * ❌ Missing try-catch for multiple queries",
                "highlighted": false
              },
              {
                "line": 85,
                "content": " * Should trigger ERROR violations",
                "highlighted": false
              },
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": false
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 88,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "timeout",
          "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
          "code_snippet": {
            "startLine": 84,
            "endLine": 92,
            "lines": [
              {
                "line": 84,
                "content": " * ❌ Missing try-catch for multiple queries",
                "highlighted": false
              },
              {
                "line": 85,
                "content": " * Should trigger ERROR violations",
                "highlighted": false
              },
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": false
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-write-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 88,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "write-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
          "code_snippet": {
            "startLine": 84,
            "endLine": 92,
            "lines": [
              {
                "line": 84,
                "content": " * ❌ Missing try-catch for multiple queries",
                "highlighted": false
              },
              {
                "line": 85,
                "content": " * Should trigger ERROR violations",
                "highlighted": false
              },
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": false
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-read-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 88,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "read-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
          "code_snippet": {
            "startLine": 84,
            "endLine": 92,
            "lines": [
              {
                "line": 84,
                "content": " * ❌ Missing try-catch for multiple queries",
                "highlighted": false
              },
              {
                "line": 85,
                "content": " * Should trigger ERROR violations",
                "highlighted": false
              },
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": false
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-overloaded",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 88,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "overloaded",
          "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
          "code_snippet": {
            "startLine": 84,
            "endLine": 92,
            "lines": [
              {
                "line": 84,
                "content": " * ❌ Missing try-catch for multiple queries",
                "highlighted": false
              },
              {
                "line": 85,
                "content": " * Should trigger ERROR violations",
                "highlighted": false
              },
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": false
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-invalid-query",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 88,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "invalid-query",
          "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
          "code_snippet": {
            "startLine": 84,
            "endLine": 92,
            "lines": [
              {
                "line": 84,
                "content": " * ❌ Missing try-catch for multiple queries",
                "highlighted": false
              },
              {
                "line": 85,
                "content": " * Should trigger ERROR violations",
                "highlighted": false
              },
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": false
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-syntax-error",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 89,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "syntax-error",
          "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
          "code_snippet": {
            "startLine": 85,
            "endLine": 93,
            "lines": [
              {
                "line": 85,
                "content": " * Should trigger ERROR violations",
                "highlighted": false
              },
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": true
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": false
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              },
              {
                "line": 93,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-unavailable",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 89,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "unavailable",
          "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
          "code_snippet": {
            "startLine": 85,
            "endLine": 93,
            "lines": [
              {
                "line": 85,
                "content": " * Should trigger ERROR violations",
                "highlighted": false
              },
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": true
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": false
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              },
              {
                "line": 93,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 89,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "timeout",
          "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
          "code_snippet": {
            "startLine": 85,
            "endLine": 93,
            "lines": [
              {
                "line": 85,
                "content": " * Should trigger ERROR violations",
                "highlighted": false
              },
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": true
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": false
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              },
              {
                "line": 93,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-write-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 89,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "write-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
          "code_snippet": {
            "startLine": 85,
            "endLine": 93,
            "lines": [
              {
                "line": 85,
                "content": " * Should trigger ERROR violations",
                "highlighted": false
              },
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": true
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": false
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              },
              {
                "line": 93,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-read-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 89,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "read-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
          "code_snippet": {
            "startLine": 85,
            "endLine": 93,
            "lines": [
              {
                "line": 85,
                "content": " * Should trigger ERROR violations",
                "highlighted": false
              },
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": true
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": false
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              },
              {
                "line": 93,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-overloaded",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 89,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "overloaded",
          "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
          "code_snippet": {
            "startLine": 85,
            "endLine": 93,
            "lines": [
              {
                "line": 85,
                "content": " * Should trigger ERROR violations",
                "highlighted": false
              },
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": true
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": false
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              },
              {
                "line": 93,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-invalid-query",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 89,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "invalid-query",
          "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
          "code_snippet": {
            "startLine": 85,
            "endLine": 93,
            "lines": [
              {
                "line": 85,
                "content": " * Should trigger ERROR violations",
                "highlighted": false
              },
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": true
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": false
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              },
              {
                "line": 93,
                "content": "/**",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-syntax-error",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 90,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "syntax-error",
          "description": "No try-catch block found. ResponseError with code indicating syntax error - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST validate CQL syntax before execution. Common error codes: - 0x2000: Syntax error - 0x2200: Invalid query DO NOT retry - fix CQL syntax.\n",
          "code_snippet": {
            "startLine": 86,
            "endLine": 94,
            "lines": [
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": true
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              },
              {
                "line": 93,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 94,
                "content": " * ❌ Missing try-catch for shutdown",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-unavailable",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 90,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "unavailable",
          "description": "No try-catch block found. ResponseError with code 0x1000 (Unavailable) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle unavailable errors. Not enough replicas available for requested consistency level. May be transient if nodes are recovering. Consider: 1. Retry with exponential backoff 2. Lower consistency level (if acceptable) 3. Check cluster health\n",
          "code_snippet": {
            "startLine": 86,
            "endLine": 94,
            "lines": [
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": true
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              },
              {
                "line": 93,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 94,
                "content": " * ❌ Missing try-catch for shutdown",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 90,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "timeout",
          "description": "No try-catch block found. OperationTimedOutError - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle timeout errors. Query took longer than configured timeout. May indicate: - Slow query needing optimization - Overloaded cluster - Network issues Consider retry with exponential backoff for transient issues.\n",
          "code_snippet": {
            "startLine": 86,
            "endLine": 94,
            "lines": [
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": true
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              },
              {
                "line": 93,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 94,
                "content": " * ❌ Missing try-catch for shutdown",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-write-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 90,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "write-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1100 (Write_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle write timeout errors. Write acknowledged by coordinator but timeout waiting for replicas. Data may or may not be written (non-idempotent risk). Implement idempotent retries or check if write succeeded.\n",
          "code_snippet": {
            "startLine": 86,
            "endLine": 94,
            "lines": [
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": true
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              },
              {
                "line": 93,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 94,
                "content": " * ❌ Missing try-catch for shutdown",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-read-timeout",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 90,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "read-timeout",
          "description": "No try-catch block found. ResponseError with code 0x1200 (Read_timeout) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/cassandra-oss/3.x/cassandra/dml/dmlAboutDataConsistency.html",
          "suggested_fix": "Caller MUST handle read timeout errors. Timeout waiting for replicas to respond. May be transient - implement retry logic.\n",
          "code_snippet": {
            "startLine": 86,
            "endLine": 94,
            "lines": [
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": true
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              },
              {
                "line": 93,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 94,
                "content": " * ❌ Missing try-catch for shutdown",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-overloaded",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 90,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "overloaded",
          "description": "No try-catch block found. ResponseError with code 0x1001 (Overloaded) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST handle overloaded errors. Coordinator cannot handle more requests. Implement retry with exponential backoff and jitter.\n",
          "code_snippet": {
            "startLine": 86,
            "endLine": 94,
            "lines": [
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": true
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              },
              {
                "line": 93,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 94,
                "content": " * ❌ Missing try-catch for shutdown",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-invalid-query",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 90,
          "column": 9,
          "package": "cassandra-driver",
          "function": "execute",
          "contract_clause": "invalid-query",
          "description": "No try-catch block found. ResponseError with code 0x2200 (Invalid) - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/error-handling/",
          "suggested_fix": "Caller MUST verify schema exists before querying. DO NOT retry - indicates schema mismatch.\n",
          "code_snippet": {
            "startLine": 86,
            "endLine": 94,
            "lines": [
              {
                "line": 86,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 87,
                "content": "async function multipleQueriesWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 88,
                "content": "  await client.execute('SELECT * FROM users');",
                "highlighted": false
              },
              {
                "line": 89,
                "content": "  await client.execute('SELECT * FROM products');",
                "highlighted": false
              },
              {
                "line": 90,
                "content": "  await client.execute('SELECT * FROM orders');",
                "highlighted": true
              },
              {
                "line": 91,
                "content": "}",
                "highlighted": false
              },
              {
                "line": 92,
                "content": "",
                "highlighted": false
              },
              {
                "line": 93,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 94,
                "content": " * ❌ Missing try-catch for shutdown",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-stream-error",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 106,
          "column": 18,
          "package": "cassandra-driver",
          "function": "stream",
          "contract_clause": "stream-error",
          "description": "No try-catch block found. ResponseError emitted via 'error' event - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/queries/",
          "suggested_fix": "Caller MUST listen for 'error' event on stream. Without error listener, unhandled error will crash process. Errors can occur during query execution or while reading rows. Handle NoHostAvailableError, OperationTimedOutError, ResponseError.\n",
          "code_snippet": {
            "startLine": 102,
            "endLine": 110,
            "lines": [
              {
                "line": 102,
                "content": " * ❌ Stream without error listener",
                "highlighted": false
              },
              {
                "line": 103,
                "content": " * Should trigger ERROR violation - critical bug!",
                "highlighted": false
              },
              {
                "line": 104,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 105,
                "content": "function streamWithoutErrorListener(client: Client) {",
                "highlighted": false
              },
              {
                "line": 106,
                "content": "  const stream = client.stream('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 107,
                "content": "",
                "highlighted": false
              },
              {
                "line": 108,
                "content": "  stream.on('readable', function() {",
                "highlighted": false
              },
              {
                "line": 109,
                "content": "    let row;",
                "highlighted": false
              },
              {
                "line": 110,
                "content": "    while (row = this.read()) {",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-row-callback-error",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/missing-error-handling.ts",
          "line": 128,
          "column": 3,
          "package": "cassandra-driver",
          "function": "eachRow",
          "contract_clause": "row-callback-error",
          "description": "No try-catch block found. Error passed to endCallback parameter - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/queries/",
          "suggested_fix": "Caller MUST check error parameter in endCallback. Errors include: - NoHostAvailableError: Connection failure - OperationTimedOutError: Query timeout - ResponseError: Server-side query error If row callback throws, eachRow stops and calls endCallback with error.\n",
          "code_snippet": {
            "startLine": 124,
            "endLine": 132,
            "lines": [
              {
                "line": 124,
                "content": " * ❌ eachRow without error checking in endCallback",
                "highlighted": false
              },
              {
                "line": 125,
                "content": " * Should trigger ERROR violation",
                "highlighted": false
              },
              {
                "line": 126,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 127,
                "content": "function eachRowWithoutErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 128,
                "content": "  client.eachRow(",
                "highlighted": true
              },
              {
                "line": 129,
                "content": "    'SELECT * FROM users',",
                "highlighted": false
              },
              {
                "line": 130,
                "content": "    [],",
                "highlighted": false
              },
              {
                "line": 131,
                "content": "    { prepare: true },",
                "highlighted": false
              },
              {
                "line": 132,
                "content": "    function rowCallback(n, row) {",
                "highlighted": false
              }
            ]
          }
        },
        {
          "id": "cassandra-driver-stream-error",
          "severity": "error",
          "file": "/Users/calebgates/WebstormProjects/behavioral-contracts/corpus/packages/cassandra-driver/fixtures/proper-error-handling.ts",
          "line": 129,
          "column": 18,
          "package": "cassandra-driver",
          "function": "stream",
          "contract_clause": "stream-error",
          "description": "No try-catch block found. ResponseError emitted via 'error' event - this will crash the application.",
          "source_doc": "https://docs.datastax.com/en/developer/nodejs-driver/4.6/features/queries/",
          "suggested_fix": "Caller MUST listen for 'error' event on stream. Without error listener, unhandled error will crash process. Errors can occur during query execution or while reading rows. Handle NoHostAvailableError, OperationTimedOutError, ResponseError.\n",
          "code_snippet": {
            "startLine": 125,
            "endLine": 133,
            "lines": [
              {
                "line": 125,
                "content": "/**",
                "highlighted": false
              },
              {
                "line": 126,
                "content": " * ✅ Proper error handling for stream - MUST listen for 'error' event",
                "highlighted": false
              },
              {
                "line": 127,
                "content": " */",
                "highlighted": false
              },
              {
                "line": 128,
                "content": "function streamWithErrorHandling(client: Client) {",
                "highlighted": false
              },
              {
                "line": 129,
                "content": "  const stream = client.stream('SELECT * FROM users');",
                "highlighted": true
              },
              {
                "line": 130,
                "content": "",
                "highlighted": false
              },
              {
                "line": 131,
                "content": "  stream.on('readable', function() {",
                "highlighted": false
              },
              {
                "line": 132,
                "content": "    let row;",
                "highlighted": false
              },
              {
                "line": 133,
                "content": "    while (row = this.read()) {",
                "highlighted": false
              }
            ]
          }
        }
      ]
    }
  }
}